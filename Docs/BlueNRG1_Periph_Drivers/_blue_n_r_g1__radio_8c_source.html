<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-1,2 Peripherals drivers APIs: BlueNRG1_radio.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-1,2 Peripherals drivers APIs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BlueNRG1_radio.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_blue_n_r_g1__radio_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/* Includes ------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_blue_n_r_g1__radio_8h.html">BlueNRG1_radio.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;vtimer.h&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="group___radio___t_x_r_x___delay___constants.html#ga3f3816567a2f513dd0e1f9eb17992fb2">   54</a></span>&#160;<span class="preprocessor">#define TX_DELAY     0x09</span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="group___radio___t_x_r_x___delay___constants.html#ga6179315242df04e1116a135dfa151de0">   55</a></span>&#160;<span class="preprocessor">#define TX_DELAY1    0x09</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="group___radio___t_x_r_x___delay___constants.html#gac55a27e4c3eae59bb1687eb7e8d1fe4b">   56</a></span>&#160;<span class="preprocessor">#define RX_DELAY     0x05</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="group___radio___t_x_r_x___delay___constants.html#gaee0e5b7d3d70c9c55086ec41a8eff72a">   57</a></span>&#160;<span class="preprocessor">#define RX_DELAY1    0x05</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="group___radio___exported___constants.html#gabb4868492f074c98ebe79096ec8dac03">   62</a></span>&#160;<span class="preprocessor">#define IRQBLUE                 (BLUE_CTRL_IRQn)</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="group___radio___exported___constants.html#gad80273c8e5ead08517aeb0a4147c0cc0">   64</a></span>&#160;<span class="preprocessor">#define TIMER_OFF                 (0)</span></div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="group___radio___exported___constants.html#gacfe07117d6016b869203727d286a4417">   65</a></span>&#160;<span class="preprocessor">#define OFF_R_SLEEP               (28)</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="group___radio___exported___macros.html#gae2a4839c8a7daab774258a37e3df89b4">   74</a></span>&#160;<span class="preprocessor">#define DISABLE_INTERRUPT(irqNum)            {NVIC_DisableIRQ(irqNum);}</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="group___radio___exported___macros.html#gadc0d0187921522dd10ae16e5166d3d62">   75</a></span>&#160;<span class="preprocessor">#define ENABLE_INTERRUPT(irqNum)             {NVIC_EnableIRQ(irqNum);}</span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="group___radio___exported___macros.html#ga88a37a2d5f0cbb9c6c502bc687944ac1">   76</a></span>&#160;<span class="preprocessor">#define BLUE_STRUCT_PTR_CAST(x) (((BlueTransBlueStrctPtr_t)(int)(x)) &amp; 0xffff)</span></div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="group___radio___exported___macros.html#ga08d2939bc3b9cb20c7c8dd88c3f70388">   77</a></span>&#160;<span class="preprocessor">#define BLUE_DATA_PTR_CAST(x) (((BlueTransBlueDataPtr_t)(int)(x)) &amp; 0xffff)</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="group___radio___exported___macros.html#ga688ae1692c44833bfe88c044e6be2fe8">   78</a></span>&#160;<span class="preprocessor">#define TIME24_DIFF(a, b)       (((int32_t)((a - b) &lt;&lt; 8)) &gt;&gt; 8)</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="group___radio___exported___macros.html#ga2f8e0f97ab25f91b38ccbebb1e5a98e0">   79</a></span>&#160;<span class="preprocessor">#define IS_STATE_VALID(STATEMACHINE_NO) (STATEMACHINE_NO &lt; STATEMACHINE_COUNT)</span></div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="group___radio___exported___macros.html#ga70bf049d7716553d8662d6350f19eadf">   80</a></span>&#160;<span class="preprocessor">#define IS_POWERLEVEL_VALID(POWER) (POWER &lt; 16)</span></div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="group___radio___exported___macros.html#ga9254a0b2d870516dea400b5896318216">   81</a></span>&#160;<span class="preprocessor">#define IS_RFCHANNEL_VALID(RF_CHANNEL) (RF_CHANNEL &lt;40)</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="group___radio___exported___macros.html#ga95c8ac582c31dd55944250da123fd563">   83</a></span>&#160;<span class="preprocessor">#define MASK_INTERRUPTS() __disable_irq(); </span></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="group___radio___exported___macros.html#ga289116058fd4856caadf5b268e82cc42">   84</a></span>&#160;<span class="preprocessor">#define UNMASK_INTERRUPTS()  __enable_irq();</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">static</span> <span class="keyword">volatile</span> BlueGlob* <span class="keyword">const</span> blueglob = &amp;__blue_RAM.BlueGlobVar; <span class="comment">// (BlueGlob*) BLUEGLOB_BASE;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keyword">static</span> <span class="keyword">volatile</span> BlueGlobPerMaster* <span class="keyword">const</span> bluedata = __blue_RAM.BlueGlobPerMasterVar;<span class="comment">// (BlueGlobPerMaster*) (BLUEGLOB_BASE+12);</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">/* glabal variables */</span></div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="group___radio___private___variables.html#ga7e533a177c7e5e67d8c5560eaf0bbe72">   99</a></span>&#160;<a class="code" href="struct_radio_global_parameters__t.html">RadioGlobalParameters_t</a> <a class="code" href="group___radio___private___variables.html#ga7e533a177c7e5e67d8c5560eaf0bbe72">globalParameters</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<a class="code" href="group___radio___private___functions.html#gad7de06cdb1d3aeaddf1d529d2ed7b7d1">WEAK_FUNCTION</a>(<span class="keywordtype">void</span> RADIO_TimerOverrunCallback(<span class="keywordtype">void</span>));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keyword">static</span> int32_t read_RSSI(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">int</span> i = 0 ;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordtype">int</span> rsi_dbm;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">while</span>(i &lt; 100 &amp;&amp; (BLUE_CTRL-&gt;RADIO_CONFIG &amp; 0x10000) != 0)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">//        dump_it = i++;</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    rsi_dbm = i++; <span class="comment">// use rsi_dbm instead of dump_it which is in RAM2</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordtype">int</span> rssi_int16 = ((globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a0a7602bff5f783f465d9138ab3303154">rssiLevel</a>[0] &gt;&gt; 16) &amp; 0xff00) | (globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a0a7602bff5f783f465d9138ab3303154">rssiLevel</a>[1] &amp; 0xff) ;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordtype">int</span> reg_agc = (globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a0a7602bff5f783f465d9138ab3303154">rssiLevel</a>[0] &gt;&gt; 16) &amp; 0xff ;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">if</span>(rssi_int16 == 0 || reg_agc &gt; 0xb)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    rsi_dbm = 127 ;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    rsi_dbm = reg_agc * 6 -127 ;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">while</span>(rssi_int16 &gt; 30)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      rsi_dbm = rsi_dbm + 6 ;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      rssi_int16 = rssi_int16 &gt;&gt; 1 ;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    rsi_dbm = rsi_dbm + ((417*rssi_int16 + 18080)&gt;&gt;10) ;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">return</span> rsi_dbm ;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> write_radio_config(<span class="keywordtype">char</span> *ptr)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">/* rc_config[0] = 0x005b3402 ; // turn on X-tal */</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordtype">int</span> var11 = ((int)ptr &amp; 0xffff) | 0x10000 ;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  BLUE_CTRL-&gt;RADIO_CONFIG = var11 ;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordtype">int</span> i = 0 ;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">while</span>((BLUE_CTRL-&gt;RADIO_CONFIG &amp; 0x10000) != 0)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    i = i+1 ;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#ga069017076901874ae563e04dbd958d9b">  190</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#ga069017076901874ae563e04dbd958d9b">RADIO_IRQHandler</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  uint32_t time;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  uint32_t int_value = BLUE_CTRL-&gt;INTERRUPT;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">if</span> ( (int_value &amp; <a class="code" href="group___radio___interrupt___status___bits.html#ga87949b12d0c0469a9394e7344eafb194">IRQ_DONE</a>) != 0) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">/* Indicates that there is no scheduling for wakeup Timer */</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="group___t_i_m_e_r___exported___functions.html#ga33749f6656c75367e241c38cfc5dd334">TIMER_updatePeriodSlow</a>();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">/* Restore period_slow since it is rewritten by hardware */</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">/* if (!Is_Flash_Write_On_Going())</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">      BLUE_CTRL-&gt;RADIO_CONFIG = ((int)GVAR(rssi_level) &amp; 0xffff) | 0x10000;</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">    } */</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    BLUE_CTRL-&gt;RADIO_CONFIG = ((int)(globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a0a7602bff5f783f465d9138ab3303154">rssiLevel</a>) &amp; 0xffff) | 0x10000;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="struct_action_packet.html">ActionPacket</a>* next, *actionPacketBackup;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="struct_blue_trans_struct.html">BlueTransStruct</a> *p;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">/* Copy status in order for callback to access it. */</span> </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a54b0ef3435692c4344f2be5ccfc30a58">current_action_packet</a>-&gt;<a class="code" href="struct_action_packet.html#ac169ee82321d01c2f1e9e8f63b174188">status</a> = int_value;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span>( ( globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a54b0ef3435692c4344f2be5ccfc30a58">current_action_packet</a>-&gt;<a class="code" href="struct_action_packet.html#af1c1268d11edc683360147dc955c86fb">condRoutine</a>(globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a54b0ef3435692c4344f2be5ccfc30a58">current_action_packet</a>) ) == TRUE) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      next = globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a54b0ef3435692c4344f2be5ccfc30a58">current_action_packet</a>-&gt;<a class="code" href="struct_action_packet.html#aa3d2ddd907c82858053b6605fa930350">next_true</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      next = globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a54b0ef3435692c4344f2be5ccfc30a58">current_action_packet</a>-&gt;<a class="code" href="struct_action_packet.html#a72c9dc6c449768dab54fcad58c5f4d4d">next_false</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span>(next == <a class="code" href="group___radio___exported___constants.html#ga9f7616948dad619974922a1559e97b9f">NULL_0</a>) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="comment">/* timer2 off */</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      BLUE_CTRL-&gt;TIMEOUT = <a class="code" href="group___radio___exported___constants.html#gad80273c8e5ead08517aeb0a4147c0cc0">TIMER_OFF</a> | BLUE_SLEEP_ENABLE;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      blueglob-&gt;Config = 0;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      blueglob-&gt;Config = (blueglob-&gt;Config &amp; 0xFFF0) | (next-&gt;<a class="code" href="struct_action_packet.html#accecaab64bd88e331a4972fc2ca91205">StateMachineNo</a> | 0x48);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      p= &amp;next-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      (bluedata + next-&gt;<a class="code" href="struct_action_packet.html#accecaab64bd88e331a4972fc2ca91205">StateMachineNo</a>)-&gt;stat_config  = next-&gt;<a class="code" href="struct_action_packet.html#ab407922585cd168aa2561d44dbc5f6df">trans_config</a>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      (bluedata + next-&gt;<a class="code" href="struct_action_packet.html#accecaab64bd88e331a4972fc2ca91205">StateMachineNo</a>)-&gt;txpoint  = <a class="code" href="group___radio___exported___macros.html#ga88a37a2d5f0cbb9c6c502bc687944ac1">BLUE_STRUCT_PTR_CAST</a>(p);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      (bluedata + next-&gt;<a class="code" href="struct_action_packet.html#accecaab64bd88e331a4972fc2ca91205">StateMachineNo</a>)-&gt;rcvpoint  = <a class="code" href="group___radio___exported___macros.html#ga88a37a2d5f0cbb9c6c502bc687944ac1">BLUE_STRUCT_PTR_CAST</a>(p);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="preprocessor">#if defined(BLUENRG2_DEVICE)</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    (bluedata + next-&gt;<a class="code" href="struct_action_packet.html#accecaab64bd88e331a4972fc2ca91205">StateMachineNo</a>)-&gt;remap_chan = (bluedata+next-&gt;<a class="code" href="struct_action_packet.html#accecaab64bd88e331a4972fc2ca91205">StateMachineNo</a>)-&gt;remap_chan | 0x80;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="comment">/* Packet will execute on time specified by WakeupTime */</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">if</span>( (next-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga6a2da3d40b88fb8a436dbf52ae137d2e">TIMER_WAKEUP</a> ) !=0 ) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="comment">/* timer2 off */</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        BLUE_CTRL-&gt;TIMEOUT = <a class="code" href="group___radio___exported___constants.html#gad80273c8e5ead08517aeb0a4147c0cc0">TIMER_OFF</a> | BLUE_SLEEP_ENABLE;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">/* program timer at next-&gt;wakeuptime */</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span>((next-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga1c53ccfc510f2dc5a6572a6768de9041">RELATIVE</a> ) !=0) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;          time = (uint32_t)<a class="code" href="group___t_i_m_e_r___exported___functions.html#ga6d4903e54c5a624002bebb0936083bd5">TIMER_GetCurrentSysTime</a>() + <a class="code" href="group___t_i_m_e_r___exported___functions.html#ga1e2721cdb6797865137926b3d518d60b">TIMER_UsToSystime</a>(next-&gt;<a class="code" href="struct_action_packet.html#a56d928dbd53eddd0c870766d61c8dbb9">WakeupTime</a>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          HAL_VTimer_SetRadioTimerValue(time,(next-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga42c5be08c4898d315b1e04930678e652">TXRX</a>), (next-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga269b4d868ef01d74f3fa6b1196f2d9ac">PLL_TRIG</a>));</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;          HAL_VTimer_SetRadioTimerValue(next-&gt;<a class="code" href="struct_action_packet.html#a56d928dbd53eddd0c870766d61c8dbb9">WakeupTime</a>,(next-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga42c5be08c4898d315b1e04930678e652">TXRX</a>), (next-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga269b4d868ef01d74f3fa6b1196f2d9ac">PLL_TRIG</a>));</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="comment">/* back to back */</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }  </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">/* Accept the packet even with CRC Error */</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span>(   ( (int_value &amp; <a class="code" href="group___radio___interrupt___status___bits.html#ga1acd05f6960a09f649fc7117ce8865c9">IRQ_RCV_OK</a>) != 0) || ( (int_value &amp; <a class="code" href="group___radio___interrupt___status___bits.html#ga7446b20afe188e5d640c4f927a685f1e">IRQ_CRC_ERR</a>) != 0) ) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="comment">/* read RSSI */</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a54b0ef3435692c4344f2be5ccfc30a58">current_action_packet</a>-&gt;<a class="code" href="struct_action_packet.html#aba1d1b11954fc56625867a6f30eba9a3">rssi</a> =  read_RSSI();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="comment">/* bluedata-&gt;config = bluedata-&gt;config ^ 0x80 ;  toggle NESN bit</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">      bluedata-&gt;config = bluedata-&gt;config &amp; 0x7F ;  //reset NESN bit */</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="comment">/* read time stamp */</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a54b0ef3435692c4344f2be5ccfc30a58">current_action_packet</a>-&gt;<a class="code" href="struct_action_packet.html#abc2f70de235c306b07d819dde07149ff">timestamp_receive</a> = <a class="code" href="group___t_i_m_e_r___exported___functions.html#ga93c87f2f82ef629a0b3665248b7505e3">TIMER_GetAnchorPoint</a>();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    actionPacketBackup = globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a54b0ef3435692c4344f2be5ccfc30a58">current_action_packet</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a54b0ef3435692c4344f2be5ccfc30a58">current_action_packet</a> = next;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    actionPacketBackup-&gt;<a class="code" href="struct_action_packet.html#a0469b8c979205e766c56b1952f98eaf5">dataRoutine</a>(actionPacketBackup, next);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">if</span> ( (int_value &amp; <a class="code" href="group___radio___interrupt___status___bits.html#ga8bf03985ac73886ef1bf5021d5e3db34">IRQ_WAKEUP_2</a>) != 0) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    HAL_VTIMER_TimeoutCallback(); </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">if</span> (int_value &amp; <a class="code" href="group___radio___interrupt___status___bits.html#ga0d057d9fa4600e7c3b8c136c13a4bf1b">BIT_TIME_OVERRUN</a>) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// Timer overrun!!!</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    RADIO_TimerOverrunCallback();</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">/* clear interrupts */</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  BLUE_CTRL-&gt;INTERRUPT = int_value;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  return ;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#ga2de39310150695611bc33237b12ddf44">  292</a></span>&#160;uint8_t <a class="code" href="group___radio___exported___functions.html#ga2de39310150695611bc33237b12ddf44">RADIO_StopActivity</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;{</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  uint8_t retVal;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="group___radio___exported___macros.html#ga95c8ac582c31dd55944250da123fd563">MASK_INTERRUPTS</a>();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  blueglob-&gt;Config = 0; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  retVal = HAL_VTimer_ClearRadioTimerValue();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a0a96f2653a91b0f55533fb3a180af3cb">forceRadiotoStop</a> = TRUE;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <a class="code" href="group___radio___exported___macros.html#ga289116058fd4856caadf5b268e82cc42">UNMASK_INTERRUPTS</a>();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">return</span> retVal;     </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#ga3eba6192d724a8caee1e861f0b161299">  314</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#ga3eba6192d724a8caee1e861f0b161299">RADIO_SetEncryptionCount</a>(uint8_t StateMachineNo, uint8_t *count_tx, uint8_t *count_rcv) </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;{</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  assert_param(<a class="code" href="group___radio___exported___macros.html#ga2f8e0f97ab25f91b38ccbebb1e5a98e0">IS_STATE_VALID</a>(StateMachineNo));</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">for</span>(uint8_t i = 0; i &lt; 5; i++) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    (bluedata + StateMachineNo)-&gt;Pack_count_Rcv[i] = count_rcv[i];</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    (bluedata + StateMachineNo)-&gt;Pack_count_Tx[i] = count_tx[i];</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">return</span>; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#gab739a16f54075b880c80ef332b50a3b9">  335</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#gab739a16f54075b880c80ef332b50a3b9">RADIO_SetEncryptionAttributes</a>(uint8_t StateMachineNo, uint8_t *enc_iv, uint8_t *enc_key) </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{   </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  uint8_t i = 0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  assert_param(<a class="code" href="group___radio___exported___macros.html#ga2f8e0f97ab25f91b38ccbebb1e5a98e0">IS_STATE_VALID</a>(StateMachineNo));</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">for</span>(i = 0; i &lt; 8; i++) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    (bluedata + StateMachineNo)-&gt;enc_iv[i] = enc_iv[i];</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    (bluedata + StateMachineNo)-&gt;enc_key[i] = enc_key[i];</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">for</span>(i = 8; i &lt; 16; i++) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    (bluedata + StateMachineNo)-&gt;enc_key[i] = enc_key[i];</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  return ; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#ga643d943280bbd627012250457583c2fa">  367</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#ga643d943280bbd627012250457583c2fa">RADIO_SetChannelMap</a>(uint8_t StateMachineNo,uint8_t *chan_remap)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  assert_param(<a class="code" href="group___radio___exported___macros.html#ga2f8e0f97ab25f91b38ccbebb1e5a98e0">IS_STATE_VALID</a>(StateMachineNo));  </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">for</span>(uint8_t i = 0; i &lt; 5; i++) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    (bluedata + StateMachineNo)-&gt;chan_remap[i] = chan_remap[i];</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  }     </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  return ; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#gad6bc9d340eed7be2063223a721094326">  407</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#gad6bc9d340eed7be2063223a721094326">RADIO_SetChannel</a>(uint8_t StateMachineNo, uint8_t channel, uint8_t channel_increment) </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;{</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  assert_param(<a class="code" href="group___radio___exported___macros.html#ga2f8e0f97ab25f91b38ccbebb1e5a98e0">IS_STATE_VALID</a>(StateMachineNo)); </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  assert_param(<a class="code" href="group___radio___exported___macros.html#ga9254a0b2d870516dea400b5896318216">IS_RFCHANNEL_VALID</a>(channel)); </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  (bluedata + StateMachineNo)-&gt;unmapped_chan = channel;  </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  (bluedata + StateMachineNo)-&gt;hop_incr = channel_increment;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  return ; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#ga857f65a2c78ae70e23efb2853e70fee8">  439</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#ga857f65a2c78ae70e23efb2853e70fee8">RADIO_SetTxAttributes</a>(uint8_t StateMachineNo, uint32_t NetworkID, uint32_t crc_init)</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;{</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  assert_param(<a class="code" href="group___radio___exported___macros.html#ga2f8e0f97ab25f91b38ccbebb1e5a98e0">IS_STATE_VALID</a>(StateMachineNo)); </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  (bluedata + StateMachineNo)-&gt;access_address = NetworkID;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  (bluedata + StateMachineNo)-&gt;crc_init = crc_init;      </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">return</span>; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#ga2458fb0b7e280b21256ac507373202e3">  457</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#ga2458fb0b7e280b21256ac507373202e3">RADIO_SetBackToBackTime</a>(uint32_t back_to_back_time)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;{</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a883a3e715e0bba5845b3f9ef9e68993a">back2backTime</a> = back_to_back_time;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;}</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#ga4e133c51f1a7e27875e8c1386fc87ca7">  486</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#ga4e133c51f1a7e27875e8c1386fc87ca7">RADIO_SetTxPower</a>(uint8_t PowerLevel)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;{</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  assert_param(<a class="code" href="group___radio___exported___macros.html#ga70bf049d7716553d8662d6350f19eadf">IS_POWERLEVEL_VALID</a>(PowerLevel)); </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  PowerLevel &lt;&lt;= 3;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> n = 0; n &lt;<a class="code" href="group___radio___exported___constants.html#ga1f66e54999d31d40a4593b42b6599560">STATEMACHINE_COUNT</a> ; n++) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    (bluedata+n)-&gt;conf_byte5 = PowerLevel;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  </div>
<div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#gaa7299f02d7dac07cc0cf4502bb530b9d">  513</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#gaa7299f02d7dac07cc0cf4502bb530b9d">RADIO_SetEncryptFlags</a>(uint8_t StateMachineNo, FunctionalState EncryptFlagTx, FunctionalState EncryptFlagRcv)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;{</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  assert_param(<a class="code" href="group___radio___exported___macros.html#ga2f8e0f97ab25f91b38ccbebb1e5a98e0">IS_STATE_VALID</a>(StateMachineNo));</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  assert_param(IS_FUNCTIONAL_STATE(EncryptFlagTx));</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  assert_param(IS_FUNCTIONAL_STATE(EncryptFlagRcv));</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span>(EncryptFlagTx==ENABLE || EncryptFlagRcv==ENABLE) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    (bluedata + StateMachineNo)-&gt;config = (bluedata + StateMachineNo)-&gt;config | 0x0A;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    (bluedata + StateMachineNo)-&gt;config = (bluedata + StateMachineNo)-&gt;config &amp; 0xF5;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#ga931ac691eb57757b5f9a1d29ec3d3cc1">  536</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#ga931ac691eb57757b5f9a1d29ec3d3cc1">RADIO_SetReservedArea</a>(<a class="code" href="struct_action_packet.html">ActionPacket</a> *p)</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;{</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="comment">//p-&gt;WakeupTime = (uint32_t) (p-&gt;WakeupTime * 0.525); /* convert us to appropriated value.  1000 * 1/512000 = 1953.125 */</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">//  assert_param(IS_DELAY_VALID(p-&gt;WakeupTime));</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#ab72c048bf2fcffe082a1ecdbe618bc0e">datptr</a> = <a class="code" href="group___radio___exported___macros.html#ga08d2939bc3b9cb20c7c8dd88c3f70388">BLUE_DATA_PTR_CAST</a>(p-&gt;<a class="code" href="struct_action_packet.html#ad12e2315849cde57ed54a1455669e241">data</a>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a7287c3e2fb62e866b25a85876a35870d">next</a> = <a class="code" href="group___radio___exported___macros.html#ga88a37a2d5f0cbb9c6c502bc687944ac1">BLUE_STRUCT_PTR_CAST</a>(&amp;(p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>));</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="comment">/* rcvlen[17:0] */</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">if</span>(p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &lt; 0x40000) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[0] =   (p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a>)       &amp; 0x000000FF ;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[1] =   (p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &gt;&gt; 8)  &amp; 0x000000FF ;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[2] =   (p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &gt;&gt; 16) &amp; 0x00000003 ;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &lt; 0x100000) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[0] =   (p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &gt;&gt; 2)  &amp; 0x000000FF ;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[1] =   (p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &gt;&gt; 10) &amp; 0x000000FF ;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[2] =   (p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &gt;&gt; 18) &amp; 0x00000003 ;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[2] |= 0x04;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &lt; 0x400000) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[0] =   (p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &gt;&gt; 4)  &amp; 0x000000FF ;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[1] =   (p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &gt;&gt; 12) &amp; 0x000000FF ;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[2] =   (p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &gt;&gt; 20) &amp; 0x00000003 ;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[2] |= 0x08;  </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &lt; 0x1000000) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[0] =   (p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &gt;&gt; 6)  &amp; 0x000000FF ;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[1] =   (p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &gt;&gt; 14) &amp; 0x000000FF ;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[2] =   (p-&gt;<a class="code" href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ReceiveWindowLength</a> &gt;&gt; 22) &amp; 0x00000003 ;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[2] |= 0x0C; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="comment">/* error */</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">if</span>((p-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#gac72f68940a0e0af035539b58b53983e7">TIMESTAMP_POSITION</a>) == 0) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[2] |= <a class="code" href="group___radio___exported___constants.html#ga980a813712caa7e8ccec602e6eeef113">TIMESTAMP_POSITION_LASTBIT</a>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[2] |= <a class="code" href="group___radio___exported___constants.html#ga6fe3144e54ea208d7f2cd395412fbd3e">TIMESTAMP_POSITION_ACCESSADDRESS</a>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="comment">/* p-&gt;trans_packet.rcvlen[2] = p-&gt;trans_packet.rcvlen[2] | 0x30 | 0x40 | TIMESTAMP_POSITION; */</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[2] = p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">rcvlen</a>[2] | 0x30;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#ad453fb326fd78865a792cf8fc27e8cfc">timeout</a>[0] = (globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a883a3e715e0bba5845b3f9ef9e68993a">back2backTime</a> &gt;&gt; 0)  &amp; 0x000000FF;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#ad453fb326fd78865a792cf8fc27e8cfc">timeout</a>[1] = (globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a883a3e715e0bba5845b3f9ef9e68993a">back2backTime</a> &gt;&gt; 8)  &amp; 0x000000FF;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#ad453fb326fd78865a792cf8fc27e8cfc">timeout</a>[2] = (globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a883a3e715e0bba5845b3f9ef9e68993a">back2backTime</a> &gt;&gt; 16) &amp; 0x0000000F; <span class="comment">/* only 20 bits */</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#aa976e8b935a5495ab8ea3a2fe680a6ac">byte10</a> =0;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#aa976e8b935a5495ab8ea3a2fe680a6ac">byte10</a> = (p-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#gaaf475ca5af00817f38dbe270a0f02b54">INC_CHAN</a>) | (p-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga269b4d868ef01d74f3fa6b1196f2d9ac">PLL_TRIG</a>) | (p-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga42c5be08c4898d315b1e04930678e652">TXRX</a>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="comment">/* next state is zero */</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#aa976e8b935a5495ab8ea3a2fe680a6ac">byte10</a> = p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#aa976e8b935a5495ab8ea3a2fe680a6ac">byte10</a> &amp; 0x1F;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="comment">/* sleep . do not go to sleep*/</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#aa976e8b935a5495ab8ea3a2fe680a6ac">byte10</a> = p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#aa976e8b935a5495ab8ea3a2fe680a6ac">byte10</a> &amp; 0xFB;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="comment">/* for multi-state automatically increment the channel */</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#aa976e8b935a5495ab8ea3a2fe680a6ac">byte10</a> = p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#aa976e8b935a5495ab8ea3a2fe680a6ac">byte10</a> | ((p-&gt;<a class="code" href="struct_action_packet.html#accecaab64bd88e331a4972fc2ca91205">StateMachineNo</a>)&lt;&lt;5);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="comment">/* enable all interrupts */</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>.<a class="code" href="struct_blue_trans_struct.html#a178188900fbfecee2d8d72f7e5bd7879">byte11</a> = 0xFF;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  p-&gt;<a class="code" href="struct_action_packet.html#ab407922585cd168aa2561d44dbc5f6df">trans_config</a> =0;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">if</span>( (p-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga42c5be08c4898d315b1e04930678e652">TXRX</a>) != 0) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    p-&gt;<a class="code" href="struct_action_packet.html#ab407922585cd168aa2561d44dbc5f6df">trans_config</a> = 0x80;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  return ;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#ga1037db33ae8dcd93ee04f6ec9dea0f2b">  627</a></span>&#160;uint8_t <a class="code" href="group___radio___exported___functions.html#ga1037db33ae8dcd93ee04f6ec9dea0f2b">RADIO_MakeActionPacketPending</a>(<a class="code" href="struct_action_packet.html">ActionPacket</a> *p)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  uint8_t returnValue = <a class="code" href="group___radio___exported___constants.html#ga8bd93c2e3c728e26e65eea4e597e2ccb">SUCCESS_0</a>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  uint32_t time,dummyTime;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="group___radio___exported___functions.html#gac78fcbc1515a6ce6196a4b10822dc755">RADIO_GetStatus</a>(&amp;dummyTime) == <a class="code" href="group___radio___exported___constants.html#gab988a6b20c8af806c8fdd999444a76b9">BLUE_IDLE_0</a>)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a0a96f2653a91b0f55533fb3a180af3cb">forceRadiotoStop</a> = FALSE;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    uint16_t  statemachineNo;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <a class="code" href="struct_blue_trans_struct.html">BlueTransStruct</a> *p1 ; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="comment">/* timer2 off */</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    BLUE_CTRL-&gt;TIMEOUT = <a class="code" href="group___radio___exported___constants.html#gad80273c8e5ead08517aeb0a4147c0cc0">TIMER_OFF</a> | BLUE_SLEEP_ENABLE;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a0a7602bff5f783f465d9138ab3303154">rssiLevel</a>[0] = 0x2e86 ;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a0a7602bff5f783f465d9138ab3303154">rssiLevel</a>[1] = 0 ;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    int32_t* temp ;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    temp = globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a5fbfd8542cc1c516ce42f2b4d35e301c">hot_ana_config_table_a</a>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    blueglob-&gt;RadioConfigPtr = <a class="code" href="group___radio___exported___macros.html#ga08d2939bc3b9cb20c7c8dd88c3f70388">BLUE_DATA_PTR_CAST</a>(temp) ; <span class="comment">/* to be discussed */</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">/* Set_Radio_Config_Data(); */</span>   <span class="comment">/* to be discussed */</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">/* tell the schedular which table in SRAM should be applied and activate it */</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    statemachineNo = 0x0007 &amp; p-&gt;<a class="code" href="struct_action_packet.html#accecaab64bd88e331a4972fc2ca91205">StateMachineNo</a>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    blueglob-&gt;Config = (blueglob-&gt;Config &amp; 0xFFF0) | (statemachineNo | 0x48);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    (bluedata+statemachineNo)-&gt;txpoint_prev = 0;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    (bluedata+statemachineNo)-&gt;rcvpoint_prev = 0;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    (bluedata+statemachineNo)-&gt;txpoint_next = 0;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    p1= &amp;p-&gt;<a class="code" href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">trans_packet</a>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    (bluedata+statemachineNo)-&gt;txpoint =  <a class="code" href="group___radio___exported___macros.html#ga88a37a2d5f0cbb9c6c502bc687944ac1">BLUE_STRUCT_PTR_CAST</a>(p1);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    (bluedata+statemachineNo)-&gt;rcvpoint = <a class="code" href="group___radio___exported___macros.html#ga88a37a2d5f0cbb9c6c502bc687944ac1">BLUE_STRUCT_PTR_CAST</a>(p1);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="preprocessor">#if defined(BLUENRG2_DEVICE)</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    (bluedata+statemachineNo)-&gt;remap_chan = (bluedata+statemachineNo)-&gt;remap_chan | 0x80;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a54b0ef3435692c4344f2be5ccfc30a58">current_action_packet</a> = p;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    (bluedata+statemachineNo)-&gt;stat_config = p-&gt;<a class="code" href="struct_action_packet.html#ab407922585cd168aa2561d44dbc5f6df">trans_config</a>; <span class="comment">/* Transmision or reception for first packet */</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="comment">/* program timer at next-&gt;wakeuptime */</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="group___radio___exported___macros.html#ga95c8ac582c31dd55944250da123fd563">MASK_INTERRUPTS</a>();</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">if</span>((p-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga1c53ccfc510f2dc5a6572a6768de9041">RELATIVE</a> ) !=0) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      time = (uint32_t)<a class="code" href="group___t_i_m_e_r___exported___functions.html#ga6d4903e54c5a624002bebb0936083bd5">TIMER_GetCurrentSysTime</a>() + <a class="code" href="group___t_i_m_e_r___exported___functions.html#ga1e2721cdb6797865137926b3d518d60b">TIMER_UsToSystime</a>(p-&gt;<a class="code" href="struct_action_packet.html#a56d928dbd53eddd0c870766d61c8dbb9">WakeupTime</a>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      returnValue = HAL_VTimer_SetRadioTimerValue(time,(p-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga42c5be08c4898d315b1e04930678e652">TXRX</a>), (p-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga269b4d868ef01d74f3fa6b1196f2d9ac">PLL_TRIG</a>));</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      returnValue = HAL_VTimer_SetRadioTimerValue(p-&gt;<a class="code" href="struct_action_packet.html#a56d928dbd53eddd0c870766d61c8dbb9">WakeupTime</a>,(p-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga42c5be08c4898d315b1e04930678e652">TXRX</a>), (p-&gt;<a class="code" href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionTag</a> &amp; <a class="code" href="group___radio___action_tag___bit_mask.html#ga269b4d868ef01d74f3fa6b1196f2d9ac">PLL_TRIG</a>));</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }   </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="group___radio___exported___macros.html#ga289116058fd4856caadf5b268e82cc42">UNMASK_INTERRUPTS</a>();</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    returnValue = <a class="code" href="group___radio___exported___constants.html#gaa9c73a66a9e8f92f1571bc3d8cfeae72">RADIO_BUSY_C4</a>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keywordflow">return</span> returnValue;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#ga29397036b15cbea840324ae164677a92">  697</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#ga29397036b15cbea840324ae164677a92">RADIO_Init</a>(uint32_t* hot_table, FunctionalState whitening)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;{     </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  assert_param(IS_FUNCTIONAL_STATE(whitening));</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <a class="code" href="group___radio___exported___macros.html#gae2a4839c8a7daab774258a37e3df89b4">DISABLE_INTERRUPT</a>(<a class="code" href="group___radio___exported___constants.html#gabb4868492f074c98ebe79096ec8dac03">IRQBLUE</a>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  blueglob-&gt;TxDelay = <a class="code" href="group___radio___t_x_r_x___delay___constants.html#ga3f3816567a2f513dd0e1f9eb17992fb2">TX_DELAY</a>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  blueglob-&gt;TxDelay1 = <a class="code" href="group___radio___t_x_r_x___delay___constants.html#ga6179315242df04e1116a135dfa151de0">TX_DELAY1</a>;        </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  blueglob-&gt;RcvDelay = <a class="code" href="group___radio___t_x_r_x___delay___constants.html#gac55a27e4c3eae59bb1687eb7e8d1fe4b">RX_DELAY</a>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  blueglob-&gt;RcvDelay1 = <a class="code" href="group___radio___t_x_r_x___delay___constants.html#gaee0e5b7d3d70c9c55086ec41a8eff72a">RX_DELAY1</a>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keywordflow">if</span>(whitening == DISABLE) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">/* disable Transmision Whitening */</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    blueglob-&gt;TxDelay |= 0x80;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    blueglob-&gt;TxDelay1 |= 0x80; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">/* disable Receiving Whitening */</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    blueglob-&gt;RcvDelay |= 0x80;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    blueglob-&gt;RcvDelay1 |= 0x80; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#ab40abb133a85a0aceb7881100c118715">hardware_config</a>.<a class="code" href="structconfig__table__t.html#a9b390da71a5d40102132cd633a841022">hot_ana_config_table</a> = hot_table;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  blueglob-&gt;Config = 0;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  BLUE_CTRL-&gt;TIMEOUT = <a class="code" href="group___radio___exported___constants.html#gad80273c8e5ead08517aeb0a4147c0cc0">TIMER_OFF</a> | BLUE_SLEEP_ENABLE ;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  BLUE_CTRL-&gt;HOST_WKUP_TIMER = <a class="code" href="group___radio___exported___constants.html#gad80273c8e5ead08517aeb0a4147c0cc0">TIMER_OFF</a>  | (1&lt;&lt;<a class="code" href="group___radio___exported___constants.html#gacfe07117d6016b869203727d286a4417">OFF_R_SLEEP</a>);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordtype">int</span> int_value = BLUE_CTRL-&gt;INTERRUPT ;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  BLUE_CTRL-&gt;INTERRUPT = int_value ; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a883a3e715e0bba5845b3f9ef9e68993a">back2backTime</a> = 71; <span class="comment">/* 150 micro second */</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  globalParameters.<a class="code" href="struct_radio_global_parameters__t.html#a0a96f2653a91b0f55533fb3a180af3cb">forceRadiotoStop</a> = FALSE;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <a class="code" href="group___radio___exported___functions.html#ga4e133c51f1a7e27875e8c1386fc87ca7">RADIO_SetTxPower</a>(11);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <a class="code" href="group___radio___exported___functions.html#gaa7299f02d7dac07cc0cf4502bb530b9d">RADIO_SetEncryptFlags</a>(0, DISABLE, DISABLE);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <a class="code" href="group___radio___exported___macros.html#gadc0d0187921522dd10ae16e5166d3d62">ENABLE_INTERRUPT</a>(<a class="code" href="group___radio___exported___constants.html#gabb4868492f074c98ebe79096ec8dac03">IRQBLUE</a>);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;}</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00752"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#gac78fcbc1515a6ce6196a4b10822dc755">  752</a></span>&#160;uint8_t <a class="code" href="group___radio___exported___functions.html#gac78fcbc1515a6ce6196a4b10822dc755">RADIO_GetStatus</a>(uint32_t *time)</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;{</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  uint8_t retValue = <a class="code" href="group___radio___exported___constants.html#gab988a6b20c8af806c8fdd999444a76b9">BLUE_IDLE_0</a>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keywordflow">if</span>((blueglob-&gt;Config &amp; 0x8) != 0)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  {   </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    retValue = <a class="code" href="group___t_i_m_e_r___exported___functions.html#gafb93a6fc923bc6f2194494e1a679f452">TIMER_GetRadioTimerValue</a>(time);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  }</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keywordflow">return</span> retValue;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;}</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div>
<div class="line"><a name="l00788"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#gaad89362036826cefbcbb2fec235aabd7">  788</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#gaad89362036826cefbcbb2fec235aabd7">RADIO_StartTone</a>(uint8_t RF_Channel, uint8_t powerLevel)</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;{</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  assert_param(<a class="code" href="group___radio___exported___macros.html#ga9254a0b2d870516dea400b5896318216">IS_RFCHANNEL_VALID</a>(RF_Channel)); </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  assert_param(<a class="code" href="group___radio___exported___macros.html#ga70bf049d7716553d8662d6350f19eadf">IS_POWERLEVEL_VALID</a>(powerLevel));</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  uint8_t channel;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  uint8_t value1;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  uint8_t value2;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  uint32_t dummy;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordtype">char</span> data[24];</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group___radio___exported___functions.html#gac78fcbc1515a6ce6196a4b10822dc755">RADIO_GetStatus</a>(&amp;dummy) == <a class="code" href="group___radio___exported___constants.html#gab988a6b20c8af806c8fdd999444a76b9">BLUE_IDLE_0</a>) {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="comment">/* [EM:] Calculate the synt divide factor for 16 MHz quarts and +250 kHz offset wrt the channel center frequency</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">    *  Algorithmically MAK = F_rf*(2^20)/16 = F_rf*(2^16)</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">    *  With F_rf = (2402+2*RF_Channel)+0.25 MHz</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">    *  K corresponds to b19-b0  of MAK</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">    *  A corresponds to b22-b20 of MAK</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">    *  M corresponds to b27-b23 of MAK</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    uint32_t kHz_250_scaled = 16384;    <span class="comment">/* = 0.250*2^20/16 */</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    uint32_t MAK = ((2402+2*RF_Channel)&lt;&lt;16) - kHz_250_scaled;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    uint8_t M  = (MAK&gt;&gt;23)&amp;0x1F;                                             </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    uint8_t A  = (MAK&gt;&gt;20)&amp;0x07;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    uint32_t K = (MAK&amp;0x000FFFFF)+1;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    uint8_t MOD3_DIG_TEST = (M&lt;&lt;3) | (A &amp; 0x7);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    uint8_t MOD2_DIG_TEST = ((K&gt;&gt;12) &amp; 0xFF);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    uint8_t MOD1_DIG_TEST = ((K&gt;&gt; 4) &amp; 0xFF);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    uint8_t MOD0_DIG_TEST = ((K&amp;0x0F)&lt;&lt;4) | 0x09;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    value1  =  0x7E &amp; 0x87;        </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    value1 |= (powerLevel     &lt;&lt; 3);        </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    value2  =  0x3F &amp; 0xF1; </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    powerLevel &amp;= 0x07;        </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    value2 |= (powerLevel     &lt;&lt; 1);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    channel = RF_Channel;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    channel &lt;&lt;= 1;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    data[0]  = 0x03;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    data[1]  = 0x04;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    data[2]  = channel;         <span class="comment">// addr 0x4, value channel</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    data[3]  = value1;          <span class="comment">// addr 0x5, value TX power</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    data[4]  = 0x02;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    data[5]  = 0x1C;            <span class="comment">// addr 0x1C, value 0x73</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    data[6]  = 0x73;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    data[7]  = 0x03;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    data[8]  = 0x24;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    data[9]  = value2;          <span class="comment">// addr 0x24, value 0x3F</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    data[10] = 0x3F;            <span class="comment">// addr 0x25, value 0x3F</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    data[11] = 0x02;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    data[12] = 0x23;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    data[13] = 0x03;            <span class="comment">// addr 0x23, value 0x03</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    data[14] = 0x02;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    data[15] = 0x23;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    data[16] = 0x07;            <span class="comment">// addr 0x23, value 0x07�</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">/*[EM:]     Fix 204: force MAK values through MODx test registers */</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    data[17] = 0x05; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    data[18] = 0x28;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    data[19] = MOD3_DIG_TEST;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    data[20] = MOD2_DIG_TEST;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    data[21] = MOD1_DIG_TEST;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    data[22] = MOD0_DIG_TEST;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    data[23] = 0x0;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    write_radio_config(data);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;}</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div>
<div class="line"><a name="l00866"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#ga9aac37ca22d583608270287965f57ade">  866</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#ga9aac37ca22d583608270287965f57ade">RADIO_StopTone</a>()</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;{</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keywordtype">char</span> data[9];</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  data[0] = 0x04;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  data[1] = 0x23;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  data[2] = 0x00;             <span class="comment">// addr 0x23, value 0x00</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  data[3] = 0x0E;             <span class="comment">// addr 0x24, value 0x0E</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  data[4] = 0x00;             <span class="comment">// addr 0x25, value 0x00</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  data[5] = 0x02;             <span class="comment">//[EM:]   Fix 204</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  data[6] = 0x2B;             <span class="comment">// Reg MOD0_DIG_TEST@0x2B</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  data[7] = 0x08;             <span class="comment">// Reset to default value (disable mod test mode)</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  data[8] = 0x00;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  write_radio_config(data);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;}</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div>
<div class="line"><a name="l00891"></a><span class="lineno"><a class="line" href="group___radio___exported___functions.html#ga7e0e139a4dff1d1b74e174709b2cb57a">  891</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___radio___exported___functions.html#ga7e0e139a4dff1d1b74e174709b2cb57a">RADIO_EncryptPlainData</a>(uint8_t *Key, </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                            uint8_t *plainData,</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                            uint8_t *cypherData)</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;{   </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  uint32_t key[4] ;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  uint32_t cleartext[4] ;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  uint32_t ciphertext[4] ;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keyword">volatile</span> uint32_t ii ;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="keywordflow">for</span>(uint8_t i = 0; i &lt; 4; i++) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    key[i] = ((uint32_t)Key[i*4]) | ((uint32_t)Key[i*4+1])&lt;&lt;8 | ((uint32_t)Key[i*4+2])&lt;&lt;16 | ((uint32_t)Key[i*4+3])&lt;&lt;24;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    cleartext[i] = ((uint32_t)plainData[i*4]) | ((uint32_t)plainData[i*4+1])&lt;&lt;8 | ((uint32_t)plainData[i*4+2])&lt;&lt;16 | ((uint32_t)plainData[i*4+3])&lt;&lt;24;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  BLUE_CTRL-&gt;AES_KEY0 = key[3];</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  BLUE_CTRL-&gt;AES_KEY1 = key[2];</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  BLUE_CTRL-&gt;AES_KEY2 = key[1];</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  BLUE_CTRL-&gt;AES_KEY3 = key[0];</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  BLUE_CTRL-&gt;CLEAR_TEXT0 = cleartext[3];</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  BLUE_CTRL-&gt;CLEAR_TEXT1 = cleartext[2];</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  BLUE_CTRL-&gt;CLEAR_TEXT2 = cleartext[1];</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  BLUE_CTRL-&gt;CLEAR_TEXT3 = cleartext[0];</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  ii = 0 ;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="keywordflow">while</span>( ( BLUE_CTRL-&gt;STATUS &amp; <a class="code" href="group___radio___interrupt___status___bits.html#ga6994ce6ff248e58486c421dbb66c7408">BIT_AES_READY</a>) == 0 &amp;&amp; ii &lt; 100) { </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    ii++ ;}</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  ciphertext[0] = BLUE_CTRL-&gt;AES_CYPHERTEXT3;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  ciphertext[1] = BLUE_CTRL-&gt;AES_CYPHERTEXT2;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  ciphertext[2] = BLUE_CTRL-&gt;AES_CYPHERTEXT1;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  ciphertext[3] = BLUE_CTRL-&gt;AES_CYPHERTEXT0;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keywordflow">for</span>(uint8_t i = 0; i &lt; 4; i++) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    cypherData[i*4] = ((uint8_t)ciphertext[i]);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    cypherData[i*4+1] = (uint8_t)(ciphertext[i]&gt;&gt;8);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    cypherData[i*4+2] = (uint8_t)(ciphertext[i]&gt;&gt;16);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    cypherData[i*4+3] = (uint8_t)(ciphertext[i]&gt;&gt;24);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  return ;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;}</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment">/******************* (C) COPYRIGHT 2017 STMicroelectronics *****END OF FILE****/</span></div>
<div class="ttc" id="group___radio___exported___macros_html_ga9254a0b2d870516dea400b5896318216"><div class="ttname"><a href="group___radio___exported___macros.html#ga9254a0b2d870516dea400b5896318216">IS_RFCHANNEL_VALID</a></div><div class="ttdeci">#define IS_RFCHANNEL_VALID(RF_CHANNEL)</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00081">BlueNRG1_radio.c:81</a></div></div>
<div class="ttc" id="struct_action_packet_html_a0039310ea36b2df7111f9f06e6301add"><div class="ttname"><a href="struct_action_packet.html#a0039310ea36b2df7111f9f06e6301add">ActionPacket::ReceiveWindowLength</a></div><div class="ttdeci">uint32_t ReceiveWindowLength</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00200">BlueNRG1_radio.h:200</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_gab739a16f54075b880c80ef332b50a3b9"><div class="ttname"><a href="group___radio___exported___functions.html#gab739a16f54075b880c80ef332b50a3b9">RADIO_SetEncryptionAttributes</a></div><div class="ttdeci">void RADIO_SetEncryptionAttributes(uint8_t StateMachineNo, uint8_t *enc_iv, uint8_t *enc_key)</div><div class="ttdoc">This routines sets the 8-byte encryption initial vector, and the 16-byte encryption key...</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00335">BlueNRG1_radio.c:335</a></div></div>
<div class="ttc" id="struct_action_packet_html_aba1d1b11954fc56625867a6f30eba9a3"><div class="ttname"><a href="struct_action_packet.html#aba1d1b11954fc56625867a6f30eba9a3">ActionPacket::rssi</a></div><div class="ttdeci">int32_t rssi</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00207">BlueNRG1_radio.h:207</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_ga069017076901874ae563e04dbd958d9b"><div class="ttname"><a href="group___radio___exported___functions.html#ga069017076901874ae563e04dbd958d9b">RADIO_IRQHandler</a></div><div class="ttdeci">void RADIO_IRQHandler(void)</div><div class="ttdoc">Radio ISR. Completed event is handled here. Besides, next packet is scheduled here. </div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00190">BlueNRG1_radio.c:190</a></div></div>
<div class="ttc" id="group___radio___exported___macros_html_ga70bf049d7716553d8662d6350f19eadf"><div class="ttname"><a href="group___radio___exported___macros.html#ga70bf049d7716553d8662d6350f19eadf">IS_POWERLEVEL_VALID</a></div><div class="ttdeci">#define IS_POWERLEVEL_VALID(POWER)</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00080">BlueNRG1_radio.c:80</a></div></div>
<div class="ttc" id="struct_blue_trans_struct_html_a6fe44691309393b72fe565ae2a32292e"><div class="ttname"><a href="struct_blue_trans_struct.html#a6fe44691309393b72fe565ae2a32292e">BlueTransStruct::rcvlen</a></div><div class="ttdeci">volatile uint8_t rcvlen[3]</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00165">BlueNRG1_radio.h:165</a></div></div>
<div class="ttc" id="group___radio___interrupt___status___bits_html_ga87949b12d0c0469a9394e7344eafb194"><div class="ttname"><a href="group___radio___interrupt___status___bits.html#ga87949b12d0c0469a9394e7344eafb194">IRQ_DONE</a></div><div class="ttdeci">#define IRQ_DONE</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00080">BlueNRG1_radio.h:80</a></div></div>
<div class="ttc" id="group___radio___interrupt___status___bits_html_ga6994ce6ff248e58486c421dbb66c7408"><div class="ttname"><a href="group___radio___interrupt___status___bits.html#ga6994ce6ff248e58486c421dbb66c7408">BIT_AES_READY</a></div><div class="ttdeci">#define BIT_AES_READY</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00089">BlueNRG1_radio.h:89</a></div></div>
<div class="ttc" id="struct_blue_trans_struct_html_ab72c048bf2fcffe082a1ecdbe618bc0e"><div class="ttname"><a href="struct_blue_trans_struct.html#ab72c048bf2fcffe082a1ecdbe618bc0e">BlueTransStruct::datptr</a></div><div class="ttdeci">volatile uint16_t datptr</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00164">BlueNRG1_radio.h:164</a></div></div>
<div class="ttc" id="group___radio___exported___macros_html_gadc0d0187921522dd10ae16e5166d3d62"><div class="ttname"><a href="group___radio___exported___macros.html#gadc0d0187921522dd10ae16e5166d3d62">ENABLE_INTERRUPT</a></div><div class="ttdeci">#define ENABLE_INTERRUPT(irqNum)                      </div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00075">BlueNRG1_radio.c:75</a></div></div>
<div class="ttc" id="group___radio___action_tag___bit_mask_html_ga269b4d868ef01d74f3fa6b1196f2d9ac"><div class="ttname"><a href="group___radio___action_tag___bit_mask.html#ga269b4d868ef01d74f3fa6b1196f2d9ac">PLL_TRIG</a></div><div class="ttdeci">#define PLL_TRIG</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00105">BlueNRG1_radio.h:105</a></div></div>
<div class="ttc" id="group___radio___action_tag___bit_mask_html_ga42c5be08c4898d315b1e04930678e652"><div class="ttname"><a href="group___radio___action_tag___bit_mask.html#ga42c5be08c4898d315b1e04930678e652">TXRX</a></div><div class="ttdeci">#define TXRX</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00111">BlueNRG1_radio.h:111</a></div></div>
<div class="ttc" id="struct_radio_global_parameters__t_html_a0a96f2653a91b0f55533fb3a180af3cb"><div class="ttname"><a href="struct_radio_global_parameters__t.html#a0a96f2653a91b0f55533fb3a180af3cb">RadioGlobalParameters_t::forceRadiotoStop</a></div><div class="ttdeci">uint8_t forceRadiotoStop</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00181">BlueNRG1_radio.h:181</a></div></div>
<div class="ttc" id="group___t_i_m_e_r___exported___functions_html_ga6d4903e54c5a624002bebb0936083bd5"><div class="ttname"><a href="group___t_i_m_e_r___exported___functions.html#ga6d4903e54c5a624002bebb0936083bd5">TIMER_GetCurrentSysTime</a></div><div class="ttdeci">uint64_t TIMER_GetCurrentSysTime(void)</div><div class="ttdoc">Return the current system time in system time unit (STU). This is a counter that grows since the powe...</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__timer_8c_source.html#l00490">BlueNRG1_timer.c:490</a></div></div>
<div class="ttc" id="struct_action_packet_html_a03efec6860c9fcd2694451d092303bb7"><div class="ttname"><a href="struct_action_packet.html#a03efec6860c9fcd2694451d092303bb7">ActionPacket::trans_packet</a></div><div class="ttdeci">BlueTransStruct trans_packet</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00208">BlueNRG1_radio.h:208</a></div></div>
<div class="ttc" id="struct_action_packet_html_af1c1268d11edc683360147dc955c86fb"><div class="ttname"><a href="struct_action_packet.html#af1c1268d11edc683360147dc955c86fb">ActionPacket::condRoutine</a></div><div class="ttdeci">uint8_t(* condRoutine)(ActionPacket *)</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00212">BlueNRG1_radio.h:212</a></div></div>
<div class="ttc" id="group___radio___interrupt___status___bits_html_ga7446b20afe188e5d640c4f927a685f1e"><div class="ttname"><a href="group___radio___interrupt___status___bits.html#ga7446b20afe188e5d640c4f927a685f1e">IRQ_CRC_ERR</a></div><div class="ttdeci">#define IRQ_CRC_ERR</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00074">BlueNRG1_radio.h:74</a></div></div>
<div class="ttc" id="group___radio___exported___constants_html_gacfe07117d6016b869203727d286a4417"><div class="ttname"><a href="group___radio___exported___constants.html#gacfe07117d6016b869203727d286a4417">OFF_R_SLEEP</a></div><div class="ttdeci">#define OFF_R_SLEEP</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00065">BlueNRG1_radio.c:65</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_ga857f65a2c78ae70e23efb2853e70fee8"><div class="ttname"><a href="group___radio___exported___functions.html#ga857f65a2c78ae70e23efb2853e70fee8">RADIO_SetTxAttributes</a></div><div class="ttdeci">void RADIO_SetTxAttributes(uint8_t StateMachineNo, uint32_t NetworkID, uint32_t crc_init)</div><div class="ttdoc">This routine sets the NetworkID, the CRC init, and the SCA. </div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00439">BlueNRG1_radio.c:439</a></div></div>
<div class="ttc" id="struct_blue_trans_struct_html"><div class="ttname"><a href="struct_blue_trans_struct.html">BlueTransStruct</a></div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00161">BlueNRG1_radio.h:161</a></div></div>
<div class="ttc" id="struct_radio_global_parameters__t_html_a54b0ef3435692c4344f2be5ccfc30a58"><div class="ttname"><a href="struct_radio_global_parameters__t.html#a54b0ef3435692c4344f2be5ccfc30a58">RadioGlobalParameters_t::current_action_packet</a></div><div class="ttdeci">ActionPacket * current_action_packet</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00186">BlueNRG1_radio.h:186</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_ga2de39310150695611bc33237b12ddf44"><div class="ttname"><a href="group___radio___exported___functions.html#ga2de39310150695611bc33237b12ddf44">RADIO_StopActivity</a></div><div class="ttdeci">uint8_t RADIO_StopActivity(void)</div><div class="ttdoc">This routine force the radio to be stopped. After calling this function, the ISR is not triggered unl...</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00292">BlueNRG1_radio.c:292</a></div></div>
<div class="ttc" id="group___radio___exported___macros_html_ga08d2939bc3b9cb20c7c8dd88c3f70388"><div class="ttname"><a href="group___radio___exported___macros.html#ga08d2939bc3b9cb20c7c8dd88c3f70388">BLUE_DATA_PTR_CAST</a></div><div class="ttdeci">#define BLUE_DATA_PTR_CAST(x)</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00077">BlueNRG1_radio.c:77</a></div></div>
<div class="ttc" id="group___radio___t_x_r_x___delay___constants_html_gaee0e5b7d3d70c9c55086ec41a8eff72a"><div class="ttname"><a href="group___radio___t_x_r_x___delay___constants.html#gaee0e5b7d3d70c9c55086ec41a8eff72a">RX_DELAY1</a></div><div class="ttdeci">#define RX_DELAY1</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00057">BlueNRG1_radio.c:57</a></div></div>
<div class="ttc" id="group___radio___interrupt___status___bits_html_ga1acd05f6960a09f649fc7117ce8865c9"><div class="ttname"><a href="group___radio___interrupt___status___bits.html#ga1acd05f6960a09f649fc7117ce8865c9">IRQ_RCV_OK</a></div><div class="ttdeci">#define IRQ_RCV_OK</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00073">BlueNRG1_radio.h:73</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_ga29397036b15cbea840324ae164677a92"><div class="ttname"><a href="group___radio___exported___functions.html#ga29397036b15cbea840324ae164677a92">RADIO_Init</a></div><div class="ttdeci">void RADIO_Init(uint32_t *hot_table, FunctionalState whitening)</div><div class="ttdoc">Initializes the radio. </div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00697">BlueNRG1_radio.c:697</a></div></div>
<div class="ttc" id="struct_action_packet_html"><div class="ttname"><a href="struct_action_packet.html">ActionPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00192">BlueNRG1_radio.h:192</a></div></div>
<div class="ttc" id="struct_action_packet_html_ac14c3f5a75335b21aaf0f974a9108e39"><div class="ttname"><a href="struct_action_packet.html#ac14c3f5a75335b21aaf0f974a9108e39">ActionPacket::ActionTag</a></div><div class="ttdeci">uint8_t ActionTag</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00195">BlueNRG1_radio.h:195</a></div></div>
<div class="ttc" id="group___t_i_m_e_r___exported___functions_html_ga33749f6656c75367e241c38cfc5dd334"><div class="ttname"><a href="group___t_i_m_e_r___exported___functions.html#ga33749f6656c75367e241c38cfc5dd334">TIMER_updatePeriodSlow</a></div><div class="ttdeci">void TIMER_updatePeriodSlow(void)</div><div class="ttdoc">Update the value of period slow variable in RAM. </div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__timer_8c_source.html#l00690">BlueNRG1_timer.c:690</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_ga4e133c51f1a7e27875e8c1386fc87ca7"><div class="ttname"><a href="group___radio___exported___functions.html#ga4e133c51f1a7e27875e8c1386fc87ca7">RADIO_SetTxPower</a></div><div class="ttdeci">void RADIO_SetTxPower(uint8_t PowerLevel)</div><div class="ttdoc">Configures the transmit power level. </div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00486">BlueNRG1_radio.c:486</a></div></div>
<div class="ttc" id="group___radio___exported___constants_html_gad80273c8e5ead08517aeb0a4147c0cc0"><div class="ttname"><a href="group___radio___exported___constants.html#gad80273c8e5ead08517aeb0a4147c0cc0">TIMER_OFF</a></div><div class="ttdeci">#define TIMER_OFF</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00064">BlueNRG1_radio.c:64</a></div></div>
<div class="ttc" id="struct_action_packet_html_aa3d2ddd907c82858053b6605fa930350"><div class="ttname"><a href="struct_action_packet.html#aa3d2ddd907c82858053b6605fa930350">ActionPacket::next_true</a></div><div class="ttdeci">ActionPacket * next_true</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00210">BlueNRG1_radio.h:210</a></div></div>
<div class="ttc" id="group___t_i_m_e_r___exported___functions_html_ga93c87f2f82ef629a0b3665248b7505e3"><div class="ttname"><a href="group___t_i_m_e_r___exported___functions.html#ga93c87f2f82ef629a0b3665248b7505e3">TIMER_GetAnchorPoint</a></div><div class="ttdeci">uint64_t TIMER_GetAnchorPoint(void)</div><div class="ttdoc">Return timer capture register value in STU. </div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__timer_8c_source.html#l00764">BlueNRG1_timer.c:764</a></div></div>
<div class="ttc" id="group___radio___t_x_r_x___delay___constants_html_gac55a27e4c3eae59bb1687eb7e8d1fe4b"><div class="ttname"><a href="group___radio___t_x_r_x___delay___constants.html#gac55a27e4c3eae59bb1687eb7e8d1fe4b">RX_DELAY</a></div><div class="ttdeci">#define RX_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00056">BlueNRG1_radio.c:56</a></div></div>
<div class="ttc" id="group___t_i_m_e_r___exported___functions_html_ga1e2721cdb6797865137926b3d518d60b"><div class="ttname"><a href="group___t_i_m_e_r___exported___functions.html#ga1e2721cdb6797865137926b3d518d60b">TIMER_UsToSystime</a></div><div class="ttdeci">uint32_t TIMER_UsToSystime(uint32_t time)</div><div class="ttdoc">Return the system time referred to the time in microseconds passed as parameter. </div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__timer_8c_source.html#l00745">BlueNRG1_timer.c:745</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_ga2458fb0b7e280b21256ac507373202e3"><div class="ttname"><a href="group___radio___exported___functions.html#ga2458fb0b7e280b21256ac507373202e3">RADIO_SetBackToBackTime</a></div><div class="ttdeci">void RADIO_SetBackToBackTime(uint32_t back_to_back_time)</div><div class="ttdoc">Initializes the time between back-to-back radio transmissions. </div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00457">BlueNRG1_radio.c:457</a></div></div>
<div class="ttc" id="_blue_n_r_g1__radio_8h_html"><div class="ttname"><a href="_blue_n_r_g1__radio_8h.html">BlueNRG1_radio.h</a></div><div class="ttdoc">This file contains all the functions prototypes for the radio firmware library. </div></div>
<div class="ttc" id="group___radio___exported___functions_html_ga3eba6192d724a8caee1e861f0b161299"><div class="ttname"><a href="group___radio___exported___functions.html#ga3eba6192d724a8caee1e861f0b161299">RADIO_SetEncryptionCount</a></div><div class="ttdeci">void RADIO_SetEncryptionCount(uint8_t StateMachineNo, uint8_t *count_tx, uint8_t *count_rcv)</div><div class="ttdoc">This routine sets the 40-bit receive and transmit packet count, to be used in encryption calculation...</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00314">BlueNRG1_radio.c:314</a></div></div>
<div class="ttc" id="struct_blue_trans_struct_html_a178188900fbfecee2d8d72f7e5bd7879"><div class="ttname"><a href="struct_blue_trans_struct.html#a178188900fbfecee2d8d72f7e5bd7879">BlueTransStruct::byte11</a></div><div class="ttdeci">volatile uint8_t byte11</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00168">BlueNRG1_radio.h:168</a></div></div>
<div class="ttc" id="struct_radio_global_parameters__t_html_a5fbfd8542cc1c516ce42f2b4d35e301c"><div class="ttname"><a href="struct_radio_global_parameters__t.html#a5fbfd8542cc1c516ce42f2b4d35e301c">RadioGlobalParameters_t::hot_ana_config_table_a</a></div><div class="ttdeci">int32_t hot_ana_config_table_a[HOT_ANA_CONFIG_TABLE_LENGTH &gt;&gt;2]</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00183">BlueNRG1_radio.h:183</a></div></div>
<div class="ttc" id="group___radio___private___variables_html_ga7e533a177c7e5e67d8c5560eaf0bbe72"><div class="ttname"><a href="group___radio___private___variables.html#ga7e533a177c7e5e67d8c5560eaf0bbe72">globalParameters</a></div><div class="ttdeci">RadioGlobalParameters_t globalParameters</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00099">BlueNRG1_radio.c:99</a></div></div>
<div class="ttc" id="struct_blue_trans_struct_html_a7287c3e2fb62e866b25a85876a35870d"><div class="ttname"><a href="struct_blue_trans_struct.html#a7287c3e2fb62e866b25a85876a35870d">BlueTransStruct::next</a></div><div class="ttdeci">volatile uint16_t next</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00163">BlueNRG1_radio.h:163</a></div></div>
<div class="ttc" id="struct_action_packet_html_a72c9dc6c449768dab54fcad58c5f4d4d"><div class="ttname"><a href="struct_action_packet.html#a72c9dc6c449768dab54fcad58c5f4d4d">ActionPacket::next_false</a></div><div class="ttdeci">ActionPacket * next_false</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00211">BlueNRG1_radio.h:211</a></div></div>
<div class="ttc" id="group___radio___exported___macros_html_ga88a37a2d5f0cbb9c6c502bc687944ac1"><div class="ttname"><a href="group___radio___exported___macros.html#ga88a37a2d5f0cbb9c6c502bc687944ac1">BLUE_STRUCT_PTR_CAST</a></div><div class="ttdeci">#define BLUE_STRUCT_PTR_CAST(x)</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00076">BlueNRG1_radio.c:76</a></div></div>
<div class="ttc" id="group___radio___exported___macros_html_gae2a4839c8a7daab774258a37e3df89b4"><div class="ttname"><a href="group___radio___exported___macros.html#gae2a4839c8a7daab774258a37e3df89b4">DISABLE_INTERRUPT</a></div><div class="ttdeci">#define DISABLE_INTERRUPT(irqNum)                    </div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00074">BlueNRG1_radio.c:74</a></div></div>
<div class="ttc" id="group___radio___exported___constants_html_ga9f7616948dad619974922a1559e97b9f"><div class="ttname"><a href="group___radio___exported___constants.html#ga9f7616948dad619974922a1559e97b9f">NULL_0</a></div><div class="ttdeci">#define NULL_0</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00061">BlueNRG1_radio.h:61</a></div></div>
<div class="ttc" id="group___radio___t_x_r_x___delay___constants_html_ga6179315242df04e1116a135dfa151de0"><div class="ttname"><a href="group___radio___t_x_r_x___delay___constants.html#ga6179315242df04e1116a135dfa151de0">TX_DELAY1</a></div><div class="ttdeci">#define TX_DELAY1</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00055">BlueNRG1_radio.c:55</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_ga7e0e139a4dff1d1b74e174709b2cb57a"><div class="ttname"><a href="group___radio___exported___functions.html#ga7e0e139a4dff1d1b74e174709b2cb57a">RADIO_EncryptPlainData</a></div><div class="ttdeci">void RADIO_EncryptPlainData(uint8_t *Key, uint8_t *plainData, uint8_t *cypherData)</div><div class="ttdoc">Encrypts plain text data using AES encryption with given input key and 128 bit block size...</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00891">BlueNRG1_radio.c:891</a></div></div>
<div class="ttc" id="group___radio___exported___macros_html_ga289116058fd4856caadf5b268e82cc42"><div class="ttname"><a href="group___radio___exported___macros.html#ga289116058fd4856caadf5b268e82cc42">UNMASK_INTERRUPTS</a></div><div class="ttdeci">#define UNMASK_INTERRUPTS()</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00084">BlueNRG1_radio.c:84</a></div></div>
<div class="ttc" id="group___radio___exported___constants_html_gaa9c73a66a9e8f92f1571bc3d8cfeae72"><div class="ttname"><a href="group___radio___exported___constants.html#gaa9c73a66a9e8f92f1571bc3d8cfeae72">RADIO_BUSY_C4</a></div><div class="ttdeci">#define RADIO_BUSY_C4</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00059">BlueNRG1_radio.h:59</a></div></div>
<div class="ttc" id="group___radio___exported___macros_html_ga95c8ac582c31dd55944250da123fd563"><div class="ttname"><a href="group___radio___exported___macros.html#ga95c8ac582c31dd55944250da123fd563">MASK_INTERRUPTS</a></div><div class="ttdeci">#define MASK_INTERRUPTS()</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00083">BlueNRG1_radio.c:83</a></div></div>
<div class="ttc" id="group___radio___action_tag___bit_mask_html_ga1c53ccfc510f2dc5a6572a6768de9041"><div class="ttname"><a href="group___radio___action_tag___bit_mask.html#ga1c53ccfc510f2dc5a6572a6768de9041">RELATIVE</a></div><div class="ttdeci">#define RELATIVE</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00129">BlueNRG1_radio.h:129</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_gad6bc9d340eed7be2063223a721094326"><div class="ttname"><a href="group___radio___exported___functions.html#gad6bc9d340eed7be2063223a721094326">RADIO_SetChannel</a></div><div class="ttdeci">void RADIO_SetChannel(uint8_t StateMachineNo, uint8_t channel, uint8_t channel_increment)</div><div class="ttdoc">This routine sets the channel and the channel increment. Channel and channel increment follows channe...</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00407">BlueNRG1_radio.c:407</a></div></div>
<div class="ttc" id="structconfig__table__t_html_a9b390da71a5d40102132cd633a841022"><div class="ttname"><a href="structconfig__table__t.html#a9b390da71a5d40102132cd633a841022">config_table_t::hot_ana_config_table</a></div><div class="ttdeci">uint32_t * hot_ana_config_table</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00175">BlueNRG1_radio.h:175</a></div></div>
<div class="ttc" id="struct_action_packet_html_ad12e2315849cde57ed54a1455669e241"><div class="ttname"><a href="struct_action_packet.html#ad12e2315849cde57ed54a1455669e241">ActionPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00201">BlueNRG1_radio.h:201</a></div></div>
<div class="ttc" id="struct_radio_global_parameters__t_html_a883a3e715e0bba5845b3f9ef9e68993a"><div class="ttname"><a href="struct_radio_global_parameters__t.html#a883a3e715e0bba5845b3f9ef9e68993a">RadioGlobalParameters_t::back2backTime</a></div><div class="ttdeci">uint32_t back2backTime</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00180">BlueNRG1_radio.h:180</a></div></div>
<div class="ttc" id="struct_action_packet_html_ac169ee82321d01c2f1e9e8f63b174188"><div class="ttname"><a href="struct_action_packet.html#ac169ee82321d01c2f1e9e8f63b174188">ActionPacket::status</a></div><div class="ttdeci">uint32_t status</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00204">BlueNRG1_radio.h:204</a></div></div>
<div class="ttc" id="group___radio___action_tag___bit_mask_html_ga6a2da3d40b88fb8a436dbf52ae137d2e"><div class="ttname"><a href="group___radio___action_tag___bit_mask.html#ga6a2da3d40b88fb8a436dbf52ae137d2e">TIMER_WAKEUP</a></div><div class="ttdeci">#define TIMER_WAKEUP</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00117">BlueNRG1_radio.h:117</a></div></div>
<div class="ttc" id="struct_action_packet_html_a0469b8c979205e766c56b1952f98eaf5"><div class="ttname"><a href="struct_action_packet.html#a0469b8c979205e766c56b1952f98eaf5">ActionPacket::dataRoutine</a></div><div class="ttdeci">uint8_t(* dataRoutine)(ActionPacket *, ActionPacket *)</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00214">BlueNRG1_radio.h:214</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_ga9aac37ca22d583608270287965f57ade"><div class="ttname"><a href="group___radio___exported___functions.html#ga9aac37ca22d583608270287965f57ade">RADIO_StopTone</a></div><div class="ttdeci">void RADIO_StopTone(void)</div><div class="ttdoc">This routine starts tone transmission. This API is dedicated for test and destroys context and multis...</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00866">BlueNRG1_radio.c:866</a></div></div>
<div class="ttc" id="group___radio___interrupt___status___bits_html_ga8bf03985ac73886ef1bf5021d5e3db34"><div class="ttname"><a href="group___radio___interrupt___status___bits.html#ga8bf03985ac73886ef1bf5021d5e3db34">IRQ_WAKEUP_2</a></div><div class="ttdeci">#define IRQ_WAKEUP_2</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00088">BlueNRG1_radio.h:88</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_ga931ac691eb57757b5f9a1d29ec3d3cc1"><div class="ttname"><a href="group___radio___exported___functions.html#ga931ac691eb57757b5f9a1d29ec3d3cc1">RADIO_SetReservedArea</a></div><div class="ttdeci">void RADIO_SetReservedArea(ActionPacket *p)</div><div class="ttdoc">This routine should be called after writing/modifying an action packet, and before it is executed via...</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00536">BlueNRG1_radio.c:536</a></div></div>
<div class="ttc" id="group___t_i_m_e_r___exported___functions_html_gafb93a6fc923bc6f2194494e1a679f452"><div class="ttname"><a href="group___t_i_m_e_r___exported___functions.html#gafb93a6fc923bc6f2194494e1a679f452">TIMER_GetRadioTimerValue</a></div><div class="ttdeci">uint8_t TIMER_GetRadioTimerValue(uint32_t *time)</div><div class="ttdoc">Return the status of the Radio timers and the last value programmed in the register. </div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__timer_8c_source.html#l00665">BlueNRG1_timer.c:665</a></div></div>
<div class="ttc" id="group___radio___exported___constants_html_ga8bd93c2e3c728e26e65eea4e597e2ccb"><div class="ttname"><a href="group___radio___exported___constants.html#ga8bd93c2e3c728e26e65eea4e597e2ccb">SUCCESS_0</a></div><div class="ttdeci">#define SUCCESS_0</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00056">BlueNRG1_radio.h:56</a></div></div>
<div class="ttc" id="struct_action_packet_html_ab407922585cd168aa2561d44dbc5f6df"><div class="ttname"><a href="struct_action_packet.html#ab407922585cd168aa2561d44dbc5f6df">ActionPacket::trans_config</a></div><div class="ttdeci">uint8_t trans_config</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00215">BlueNRG1_radio.h:215</a></div></div>
<div class="ttc" id="struct_action_packet_html_abc2f70de235c306b07d819dde07149ff"><div class="ttname"><a href="struct_action_packet.html#abc2f70de235c306b07d819dde07149ff">ActionPacket::timestamp_receive</a></div><div class="ttdeci">uint32_t timestamp_receive</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00205">BlueNRG1_radio.h:205</a></div></div>
<div class="ttc" id="struct_blue_trans_struct_html_ad453fb326fd78865a792cf8fc27e8cfc"><div class="ttname"><a href="struct_blue_trans_struct.html#ad453fb326fd78865a792cf8fc27e8cfc">BlueTransStruct::timeout</a></div><div class="ttdeci">volatile uint8_t timeout[3]</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00166">BlueNRG1_radio.h:166</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_gaad89362036826cefbcbb2fec235aabd7"><div class="ttname"><a href="group___radio___exported___functions.html#gaad89362036826cefbcbb2fec235aabd7">RADIO_StartTone</a></div><div class="ttdeci">void RADIO_StartTone(uint8_t RF_channel, uint8_t powerLevel)</div><div class="ttdoc">Starts tone transmission on selected channel. This API is dedicated for test and destroys context and...</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00788">BlueNRG1_radio.c:788</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_ga643d943280bbd627012250457583c2fa"><div class="ttname"><a href="group___radio___exported___functions.html#ga643d943280bbd627012250457583c2fa">RADIO_SetChannelMap</a></div><div class="ttdeci">void RADIO_SetChannelMap(uint8_t StateMachineNo, uint8_t *chan_remap)</div><div class="ttdoc">This routine sets the channel map. If channel map is not in use, do not use it. The chan_remap consta...</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00367">BlueNRG1_radio.c:367</a></div></div>
<div class="ttc" id="struct_radio_global_parameters__t_html_a0a7602bff5f783f465d9138ab3303154"><div class="ttname"><a href="struct_radio_global_parameters__t.html#a0a7602bff5f783f465d9138ab3303154">RadioGlobalParameters_t::rssiLevel</a></div><div class="ttdeci">uint32_t rssiLevel[2]</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00182">BlueNRG1_radio.h:182</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_gaa7299f02d7dac07cc0cf4502bb530b9d"><div class="ttname"><a href="group___radio___exported___functions.html#gaa7299f02d7dac07cc0cf4502bb530b9d">RADIO_SetEncryptFlags</a></div><div class="ttdeci">void RADIO_SetEncryptFlags(uint8_t StateMachineNo, FunctionalState EncryptFlagTx, FunctionalState EncryptFlagRcv)</div><div class="ttdoc">This routine turns encrypt ON and OFF. When the encryption is enabled, the hardware will add 4 bytes ...</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00513">BlueNRG1_radio.c:513</a></div></div>
<div class="ttc" id="struct_radio_global_parameters__t_html_ab40abb133a85a0aceb7881100c118715"><div class="ttname"><a href="struct_radio_global_parameters__t.html#ab40abb133a85a0aceb7881100c118715">RadioGlobalParameters_t::hardware_config</a></div><div class="ttdeci">config_table_t hardware_config</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00184">BlueNRG1_radio.h:184</a></div></div>
<div class="ttc" id="struct_action_packet_html_accecaab64bd88e331a4972fc2ca91205"><div class="ttname"><a href="struct_action_packet.html#accecaab64bd88e331a4972fc2ca91205">ActionPacket::StateMachineNo</a></div><div class="ttdeci">uint8_t StateMachineNo</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00194">BlueNRG1_radio.h:194</a></div></div>
<div class="ttc" id="group___radio___exported___macros_html_ga2f8e0f97ab25f91b38ccbebb1e5a98e0"><div class="ttname"><a href="group___radio___exported___macros.html#ga2f8e0f97ab25f91b38ccbebb1e5a98e0">IS_STATE_VALID</a></div><div class="ttdeci">#define IS_STATE_VALID(STATEMACHINE_NO)</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00079">BlueNRG1_radio.c:79</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_ga1037db33ae8dcd93ee04f6ec9dea0f2b"><div class="ttname"><a href="group___radio___exported___functions.html#ga1037db33ae8dcd93ee04f6ec9dea0f2b">RADIO_MakeActionPacketPending</a></div><div class="ttdeci">uint8_t RADIO_MakeActionPacketPending(ActionPacket *p)</div><div class="ttdoc">This routine should be called for the first actionPacket that needs to be scheduled on the radio...</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00627">BlueNRG1_radio.c:627</a></div></div>
<div class="ttc" id="struct_blue_trans_struct_html_aa976e8b935a5495ab8ea3a2fe680a6ac"><div class="ttname"><a href="struct_blue_trans_struct.html#aa976e8b935a5495ab8ea3a2fe680a6ac">BlueTransStruct::byte10</a></div><div class="ttdeci">volatile uint8_t byte10</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00167">BlueNRG1_radio.h:167</a></div></div>
<div class="ttc" id="group___radio___exported___constants_html_ga1f66e54999d31d40a4593b42b6599560"><div class="ttname"><a href="group___radio___exported___constants.html#ga1f66e54999d31d40a4593b42b6599560">STATEMACHINE_COUNT</a></div><div class="ttdeci">#define STATEMACHINE_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00067">BlueNRG1_radio.h:67</a></div></div>
<div class="ttc" id="group___radio___exported___functions_html_gac78fcbc1515a6ce6196a4b10822dc755"><div class="ttname"><a href="group___radio___exported___functions.html#gac78fcbc1515a6ce6196a4b10822dc755">RADIO_GetStatus</a></div><div class="ttdeci">uint8_t RADIO_GetStatus(uint32_t *time)</div><div class="ttdoc">This routine returns the status of the Radio whether it is busy or not. If it is busy, the time argument will be filled with absolute time value of next radio activity. User can use this value (in comparison with current time) to check that how long it is far to force the device to sleep or not. Note: when Timer2 is on schedule, time value is not absolute time. </div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00752">BlueNRG1_radio.c:752</a></div></div>
<div class="ttc" id="group___radio___interrupt___status___bits_html_ga0d057d9fa4600e7c3b8c136c13a4bf1b"><div class="ttname"><a href="group___radio___interrupt___status___bits.html#ga0d057d9fa4600e7c3b8c136c13a4bf1b">BIT_TIME_OVERRUN</a></div><div class="ttdeci">#define BIT_TIME_OVERRUN</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00086">BlueNRG1_radio.h:86</a></div></div>
<div class="ttc" id="struct_radio_global_parameters__t_html"><div class="ttname"><a href="struct_radio_global_parameters__t.html">RadioGlobalParameters_t</a></div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00179">BlueNRG1_radio.h:179</a></div></div>
<div class="ttc" id="group___radio___private___functions_html_gad7de06cdb1d3aeaddf1d529d2ed7b7d1"><div class="ttname"><a href="group___radio___private___functions.html#gad7de06cdb1d3aeaddf1d529d2ed7b7d1">WEAK_FUNCTION</a></div><div class="ttdeci">WEAK_FUNCTION(void RADIO_TimerOverrunCallback(void))</div><div class="ttdoc">Weak definition of RADIO_TimerOverrunCallback. </div></div>
<div class="ttc" id="group___radio___t_x_r_x___delay___constants_html_ga3f3816567a2f513dd0e1f9eb17992fb2"><div class="ttname"><a href="group___radio___t_x_r_x___delay___constants.html#ga3f3816567a2f513dd0e1f9eb17992fb2">TX_DELAY</a></div><div class="ttdeci">#define TX_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00054">BlueNRG1_radio.c:54</a></div></div>
<div class="ttc" id="group___radio___exported___constants_html_gab988a6b20c8af806c8fdd999444a76b9"><div class="ttname"><a href="group___radio___exported___constants.html#gab988a6b20c8af806c8fdd999444a76b9">BLUE_IDLE_0</a></div><div class="ttdeci">#define BLUE_IDLE_0</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00062">BlueNRG1_radio.h:62</a></div></div>
<div class="ttc" id="group___radio___action_tag___bit_mask_html_gaaf475ca5af00817f38dbe270a0f02b54"><div class="ttname"><a href="group___radio___action_tag___bit_mask.html#gaaf475ca5af00817f38dbe270a0f02b54">INC_CHAN</a></div><div class="ttdeci">#define INC_CHAN</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00123">BlueNRG1_radio.h:123</a></div></div>
<div class="ttc" id="group___radio___exported___constants_html_ga980a813712caa7e8ccec602e6eeef113"><div class="ttname"><a href="group___radio___exported___constants.html#ga980a813712caa7e8ccec602e6eeef113">TIMESTAMP_POSITION_LASTBIT</a></div><div class="ttdeci">#define TIMESTAMP_POSITION_LASTBIT</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00064">BlueNRG1_radio.h:64</a></div></div>
<div class="ttc" id="group___radio___action_tag___bit_mask_html_gac72f68940a0e0af035539b58b53983e7"><div class="ttname"><a href="group___radio___action_tag___bit_mask.html#gac72f68940a0e0af035539b58b53983e7">TIMESTAMP_POSITION</a></div><div class="ttdeci">#define TIMESTAMP_POSITION</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00135">BlueNRG1_radio.h:135</a></div></div>
<div class="ttc" id="group___radio___exported___constants_html_ga6fe3144e54ea208d7f2cd395412fbd3e"><div class="ttname"><a href="group___radio___exported___constants.html#ga6fe3144e54ea208d7f2cd395412fbd3e">TIMESTAMP_POSITION_ACCESSADDRESS</a></div><div class="ttdeci">#define TIMESTAMP_POSITION_ACCESSADDRESS</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00063">BlueNRG1_radio.h:63</a></div></div>
<div class="ttc" id="struct_action_packet_html_a56d928dbd53eddd0c870766d61c8dbb9"><div class="ttname"><a href="struct_action_packet.html#a56d928dbd53eddd0c870766d61c8dbb9">ActionPacket::WakeupTime</a></div><div class="ttdeci">uint32_t WakeupTime</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8h_source.html#l00197">BlueNRG1_radio.h:197</a></div></div>
<div class="ttc" id="group___radio___exported___constants_html_gabb4868492f074c98ebe79096ec8dac03"><div class="ttname"><a href="group___radio___exported___constants.html#gabb4868492f074c98ebe79096ec8dac03">IRQBLUE</a></div><div class="ttdeci">#define IRQBLUE</div><div class="ttdef"><b>Definition:</b> <a href="_blue_n_r_g1__radio_8c_source.html#l00062">BlueNRG1_radio.c:62</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2020 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
