<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-1,2 Peripherals drivers Examples: Spi_3Wires_HTS221_main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="STcustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-1,2 Peripherals drivers Examples
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Spi_3Wires_HTS221_main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This code provides an example how to configure and to use the SPI 3 wires to interface the humidity sensor HTS221.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;BlueNRG1_conf.h&quot;</code><br />
<code>#include &quot;SDK_EVAL_Config.h&quot;</code><br />
<code>#include &quot;HTS221_Driver.h&quot;</code><br />
<code>#include &quot;HTS221_HAL.h&quot;</code><br />
</div>
<p><a href="_spi__3_wires___h_t_s221__main_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga43b28358ca13a2e9ce2a4ec791f16989"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___three_wires___h_t_s221.html#ga43b28358ca13a2e9ce2a4ec791f16989">PRINT_INT</a>(x)    &#160;&#160;&#160;((int)(x))</td></tr>
<tr class="separator:ga43b28358ca13a2e9ce2a4ec791f16989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa846ecf97261116b7f3845f15378ad5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___three_wires___h_t_s221.html#gafa846ecf97261116b7f3845f15378ad5">PRINT_FLOAT</a>(x)&#160;&#160;&#160;(x&gt;0)? ((int) (((x) - <a class="el" href="group___three_wires___h_t_s221.html#ga43b28358ca13a2e9ce2a4ec791f16989">PRINT_INT</a>(x)) * 1000)) : (-1*(((int) (((x) - <a class="el" href="group___three_wires___h_t_s221.html#ga43b28358ca13a2e9ce2a4ec791f16989">PRINT_INT</a>(x)) * 1000))))</td></tr>
<tr class="separator:gafa846ecf97261116b7f3845f15378ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___three_wires___h_t_s221.html#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:ga840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main program code.  <a href="group___three_wires___h_t_s221.html#ga840291bc02cba5474a4cb46a9b9566fe">More...</a><br /></td></tr>
<tr class="separator:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This code provides an example how to configure and to use the SPI 3 wires to interface the humidity sensor HTS221. </p>
<h1><a class="anchor" id="ATOLLIC_project"></a>
ATOLLIC project</h1>
<p>To use the project with ATOLLIC TrueSTUDIO for ARM, please follow the instructions below:</p><ol type="1">
<li>Open the ATOLLIC TrueSTUDIO for ARM and select File-&gt;Import... Project menu.</li>
<li>Select Existing Projects into Workspace.</li>
<li>Select the ATOLLIC project</li>
<li>Select desired configuration to build from Project-&gt;Manage Configurations</li>
<li>Select Project-&gt;Rebuild Project. This will recompile and link the entire application</li>
<li>To download the binary image, please connect STLink to JTAG connector in your board (if available).</li>
<li>Select Project-&gt;Download to download the related binary image.</li>
<li>Alternatively, open the BlueNRG1 Flasher utility and download the built binary image.</li>
</ol>
<h1><a class="anchor" id="KEIL_project"></a>
KEIL project</h1>
<p>To use the project with KEIL uVision 5 for ARM, please follow the instructions below:</p><ol type="1">
<li>Open the KEIL uVision 5 for ARM and select Project-&gt;Open Project menu.</li>
<li>Open the KEIL project <code> C:\{username}-1_2 DK x.x.x\Project\BlueNRG1_Periph_Examples\SPI\ThreeWires_HTS221\MDK-ARM\{BlueNRG-1-2}\SPI_ThreeWires_HTS221.uvprojx </code></li>
<li>Select desired configuration to build</li>
<li>Select Project-&gt;Rebuild all target files. This will recompile and link the entire application</li>
<li>To download the binary image, please connect STLink to JTAG connector in your board (if available).</li>
<li>Select Project-&gt;Download to download the related binary image.</li>
<li>Alternatively, open the BlueNRG1 Flasher utility and download the built binary image.</li>
</ol>
<h1><a class="anchor" id="IAR_project"></a>
IAR project</h1>
<p>To use the project with IAR Embedded Workbench for ARM, please follow the instructions below:</p><ol type="1">
<li>Open the Embedded Workbench for ARM and select File-&gt;Open-&gt;Workspace menu.</li>
<li>Open the IAR project <code> C:\{username}-1_2 DK x.x.x\Project\BlueNRG1_Periph_Examples\SPI\ThreeWires_HTS221\EWARM\{BlueNRG-1-2}\SPI_ThreeWires_HTS221.eww </code></li>
<li>Select desired configuration to build</li>
<li>Select Project-&gt;Rebuild All. This will recompile and link the entire application</li>
<li>To download the binary image, please connect STLink to JTAG connector in your board (if available).</li>
<li>Select Project-&gt;Download and Debug to download the related binary image.</li>
<li>Alternatively, open the BlueNRG1 Flasher utility and download the built binary image.</li>
</ol>
<h2><a class="anchor" id="Project_configurations"></a>
Project configurations</h2>
<ul>
<li><code>Release</code> - Release configuration</li>
</ul>
<h1><a class="anchor" id="Board_supported"></a>
Boards supported</h1>
<ul>
<li><code>STEVAL-IDB007V1</code> </li>
<li><code>STEVAL-IDB007V2</code> </li>
<li><code>STEVAL-IDB008V1</code> </li>
<li><code>STEVAL-IDB008V1M</code> </li>
<li><code>STEVAL-IDB008V2</code> </li>
<li><code>STEVAL-IDB009V1</code> </li>
</ul>
<h1><a class="anchor" id="Power_settings"></a>
Power configuration settings</h1>
<table  id="DoxyEmbeddedTable" border="1">
<tr id="HeadRow">
<td id="FirstColumn"><b>STEVAL-IDB00XV1</b> </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">Jumper name</td><td id="MiddleColumn"></td><td id="LastColumn">Description </td></tr>
<tr id="HeadRow">
<td id="FirstColumn"><b>JP1</b></td><td id="MiddleColumn"><b>JP2</b></td><td id="LastColumn"><b></b> </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">ON 1-2</td><td id="MiddleColumn">ON 2-3</td><td id="LastColumn">USB supply power </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">ON 2-3</td><td id="MiddleColumn">ON 1-2</td><td id="LastColumn">The supply voltage must be provided through battery pins. </td></tr>
<tr id="LastRow">
<td id="FirstColumn">ON 1-2</td><td id="MiddleColumn"></td><td id="LastColumn">USB supply power to STM32L1, JP2 pin 2 external power to BlueNRG1 </td></tr>
</table>
<h1><a class="anchor" id="Jumper_settings"></a>
Jumper settings</h1>
<table  id="DoxyEmbeddedTable" border="1">
<tr id="HeadRow">
<td id="FirstColumn"><b>STEVAL-IDB00XV1</b> </td></tr>
<tr id="HeadRow">
<td id="FirstColumn"><b>Jumper name</b></td><td id="LastColumn"><b>Description</b> </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">JP1</td><td id="LastColumn">1-2: to provide power from USB (JP2:2-3). 2-3: to provide power from battery holder (JP2:1-2) </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">JP2</td><td id="LastColumn">1-2: to provide power from battery holder (JP1:2-3). 2-3: to provide power from USB (JP1:1-2). Pin2 to VDD to provide external power supply to BlueNRG-1 (JP1: 1-2) </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">JP3</td><td id="LastColumn">pin 1 and 2 UART RX and TX of MCU. pin 3 GND. </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">JP4</td><td id="LastColumn">Fitted: to provide VBLUE to BlueNRG1. It can be used also for current measurement. </td></tr>
<tr id="LastRow">
<td id="FirstColumn">JP5</td><td id="LastColumn">Fitted : TEST pin to VBLUE. Not fitted: TEST pin to GND </td></tr>
</table>
<h1><a class="anchor" id="Pin_settings"></a>
Pin settings</h1>
<table  id="DoxyEmbeddedTable" border="1">
<tr id="HeadRow">
<td id="FirstColumn"><b>PIN name</b></td><td id="MiddleColumn"><b>STEVAL-IDB007V1</b></td><td id="MiddleColumn"><b>STEVAL-IDB007V2</b></td><td id="MiddleColumn"><b>STEVAL-IDB008V1</b></td><td id="MiddleColumn"><b>STEVAL-IDB008V1M</b></td><td id="MiddleColumn"><b>STEVAL-IDB008V2</b></td><td id="LastColumn"><b>STEVAL-IDB009V1</b> </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">ADC1</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">ADC2</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">GND</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">N.A. </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO0</td><td id="MiddleColumn">SPI clock pin</td><td id="MiddleColumn">SPI clock pin</td><td id="MiddleColumn">SPI clock pin</td><td id="MiddleColumn">SPI clock pin</td><td id="MiddleColumn">SPI clock pin</td><td id="LastColumn">SPI clock pin </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO1</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO11</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO12</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO13</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO14</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO15</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO16</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO17</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO18</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO19</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO2</td><td id="MiddleColumn">SPI MOSI pin</td><td id="MiddleColumn">SPI MOSI pin</td><td id="MiddleColumn">SPI MOSI pin</td><td id="MiddleColumn">SPI MOSI pin</td><td id="MiddleColumn">SPI MOSI pin</td><td id="LastColumn">SPI MOSI pin </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO20</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO21</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO22</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO23</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO24</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO25</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO3</td><td id="MiddleColumn">SPI MISO pin</td><td id="MiddleColumn">SPI MISO pin</td><td id="MiddleColumn">SPI MISO pin</td><td id="MiddleColumn">SPI MISO pin</td><td id="MiddleColumn">SPI MISO pin</td><td id="LastColumn">SPI MISO pin </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO4</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO5</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO6</td><td id="MiddleColumn">SPI chip select pin</td><td id="MiddleColumn">SPI chip select pin</td><td id="MiddleColumn">SPI chip select pin</td><td id="MiddleColumn">SPI chip select pin</td><td id="MiddleColumn">SPI chip select pin</td><td id="LastColumn">SPI chip select pin </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO7</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">IO8</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">RESETN</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">N.A. </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">TEST1</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="LastRow">
<td id="FirstColumn">VBLUE</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">N.A.</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">N.A.</td><td id="LastColumn">N.A. </td></tr>
</table>
<h1><a class="anchor" id="LEDs_description"></a>
LEDs description</h1>
<table  id="DoxyEmbeddedTable" border="1">
<tr id="HeadRow">
<td id="FirstColumn"><b>LED name</b></td><td id="MiddleColumn"><b>STEVAL-IDB007V1</b></td><td id="MiddleColumn"><b>STEVAL-IDB007V2</b></td><td id="MiddleColumn"><b>STEVAL-IDB008V1</b></td><td id="MiddleColumn"><b>STEVAL-IDB008V1M</b></td><td id="MiddleColumn"><b>STEVAL-IDB008V2</b></td><td id="LastColumn"><b>STEVAL-IDB009V1</b> </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">DL1</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">DL2</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">DL3</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="LastRow">
<td id="FirstColumn">DL4</td><td id="MiddleColumn">Power</td><td id="MiddleColumn">Power</td><td id="MiddleColumn">Power</td><td id="MiddleColumn">Power</td><td id="MiddleColumn">Power</td><td id="LastColumn">Power </td></tr>
</table>
<h1><a class="anchor" id="Buttons_description"></a>
Buttons description</h1>
<table  id="DoxyEmbeddedTable" border="1">
<tr id="HeadRow">
<td id="FirstColumn"><b>BUTTON name</b></td><td id="MiddleColumn"><b>STEVAL-IDB007V1</b></td><td id="MiddleColumn"><b>STEVAL-IDB007V2</b></td><td id="MiddleColumn"><b>STEVAL-IDB008V1</b></td><td id="MiddleColumn"><b>STEVAL-IDB008V1M</b></td><td id="MiddleColumn"><b>STEVAL-IDB008V2</b></td><td id="LastColumn"><b>STEVAL-IDB009V1</b> </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">PUSH1</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="BodyRow">
<td id="FirstColumn">PUSH2</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="MiddleColumn">Not Used</td><td id="LastColumn">Not Used </td></tr>
<tr id="LastRow">
<td id="FirstColumn">RESET</td><td id="MiddleColumn">Reset BlueNRG-1</td><td id="MiddleColumn">Reset BlueNRG-1</td><td id="MiddleColumn">Reset BlueNRG-2</td><td id="MiddleColumn">Reset BlueNRG-2</td><td id="MiddleColumn">Reset BlueNRG-2</td><td id="LastColumn">Reset BlueNRG-2 </td></tr>
</table>
<h1><a class="anchor" id="Usage"></a>
Usage</h1>
<p>The SPI is a master or slave interface for synchronous serial communication with peripheral devices that have either Motorola SPI, National Semiconductor Micro-Wire or Texas Instruments Synchronous Serial Interfaces.</p>
<p>The SPI performs serial-to-parallel conversion on data received from a peripheral device on the SPI_IN pin, and parallel-to-serial conversion on data written by CPU for transmission on the SPI_OUT pin. The transmit and receive paths are buffered with internal FIFO memories allowing up to 16x 32-bit values to be stored independently in both transmit and receive modes. FIFOs may be burst-loaded or emptied by the system processor, from one to eight words per transfer. Each 32-bit word from the system fills one entry in FIFO.</p>
<p>This example provides a simple application where the SPI 3 wires communication isused to read humidity and temperature data from the humidity sensor HTS221. In this example, the evaluation board for HTS221, STEVAL-MKI141V2 is used.</p>
<p>The SPI clock frequency is set to 100 kHz. The data is transferred in the Microwire format, data frame size is 8 bits. The two boards must be connected by wire according to the below scheme.</p>
<pre class="fragment">*-----------------------------------------------------------------------*
|         BlueNRG-1/2                                 HTS221            |
|       STEVAL-IDB007/8V1                          STEVAL-MKI141V2      |
|     ____________________                    ____________________      |
|    |                    |                  |                    |     |
|    |                    |                  |                    |     |
|    |     __________     |SPI_OUT________SDA|     __________     |     |
|    |    |          |____|         |        |____|          |    |     |
|    |    |          |____|SPI_IN___|        |____|          |    |     |
|    |    |BlueNRG1,2|____|                  |____|  HTS221  |    |     |
|    |    |          |____|SPI_CLK________SCL|____|          |    |     |
|    |    |__________|    |                  |    |__________|    |     |
|    |                    |GPIO_6__________CS|                    |     |
|    |                    |                  |                    |     |
|    |                    |                  |                    |     |
|    |                    |VBLUE__________VDD|                    |     |
|    |                    |                  |                    |     |
|    |                    |GND____________GND|                    |     |
|    |____________________|                  |____________________|     |
|                                                                       |
|   SPI_CS    - IO6                                                     |
|   SPI_CLK   - IO0                                                     |
|   SPI_OUT   - IO2                                                     |
|   SPI_IN    - IO3 in short with IO2                                   |
|                                                                       |
*-----------------------------------------------------------------------*
</pre> 
<p>Definition in file <a class="el" href="_spi__3_wires___h_t_s221__main_8c_source.html">Spi_3Wires_HTS221_main.c</a>.</p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2020 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
