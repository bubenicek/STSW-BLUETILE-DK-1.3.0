<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-1,2 HAL and startup drivers APIs: Exported Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="STcustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-1,2 HAL and startup drivers APIs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Exported Functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga94ae05e6e7406c14a693c319169a86e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga94ae05e6e7406c14a693c319169a86e2">HAL_VTimerStart_ms</a> (<a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *timerHandle, uint32_t msRelTimeout)</td></tr>
<tr class="memdesc:ga94ae05e6e7406c14a693c319169a86e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a one-shot virtual timer for the given relative timeout value expressed in ms.  <a href="#ga94ae05e6e7406c14a693c319169a86e2">More...</a><br /></td></tr>
<tr class="separator:ga94ae05e6e7406c14a693c319169a86e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga587f3c1112d65c7fea9f0d94af5735ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga587f3c1112d65c7fea9f0d94af5735ad">HAL_VTimer_Stop</a> (<a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *timerHandle)</td></tr>
<tr class="memdesc:ga587f3c1112d65c7fea9f0d94af5735ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the one-shot virtual timer specified if found.  <a href="#ga587f3c1112d65c7fea9f0d94af5735ad">More...</a><br /></td></tr>
<tr class="separator:ga587f3c1112d65c7fea9f0d94af5735ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6bc6fc6411987df78053675f51f4a14"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gad6bc6fc6411987df78053675f51f4a14">HAL_VTimerGetCurrentTime_sysT32</a> (void)</td></tr>
<tr class="memdesc:gad6bc6fc6411987df78053675f51f4a14"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function return the current reference time expressed in system time units. The returned value can be used as absolute time parameter where needed in the other HAL_VTimer* APIs.  <a href="#gad6bc6fc6411987df78053675f51f4a14">More...</a><br /></td></tr>
<tr class="separator:gad6bc6fc6411987df78053675f51f4a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9f41587a748ade10ee700ac65996701"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gaf9f41587a748ade10ee700ac65996701">HAL_VTimerAcc_sysT32_ms</a> (uint64_t sysTime, int32_t msTime)</td></tr>
<tr class="memdesc:gaf9f41587a748ade10ee700ac65996701"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the sum of an absolute time and a signed relative time.  <a href="#gaf9f41587a748ade10ee700ac65996701">More...</a><br /></td></tr>
<tr class="separator:gaf9f41587a748ade10ee700ac65996701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd324aaa270ffdfc73718161a97d7bb2"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gafd324aaa270ffdfc73718161a97d7bb2">HAL_VTimerDiff_ms_sysT32</a> (uint64_t sysTime1, uint64_t sysTime2)</td></tr>
<tr class="memdesc:gafd324aaa270ffdfc73718161a97d7bb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the difference between two absolute times: sysTime1-sysTime2. The resulting value is expressed in ms.  <a href="#gafd324aaa270ffdfc73718161a97d7bb2">More...</a><br /></td></tr>
<tr class="separator:gafd324aaa270ffdfc73718161a97d7bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d553aaf09e4c134b63d6218b26ff832"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga6d553aaf09e4c134b63d6218b26ff832">HAL_VTimerStart_sysT32</a> (<a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *timerHandle, uint64_t time)</td></tr>
<tr class="memdesc:ga6d553aaf09e4c134b63d6218b26ff832"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a one-shot virtual timer for the given absolute timeout value expressed in internal time units.  <a href="#ga6d553aaf09e4c134b63d6218b26ff832">More...</a><br /></td></tr>
<tr class="separator:ga6d553aaf09e4c134b63d6218b26ff832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae717b1000872fd901c77e60a74e72e0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gae717b1000872fd901c77e60a74e72e0a">HAL_VTimerExpiry_sysT32</a> (<a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *timerHandle, uint64_t *sysTime)</td></tr>
<tr class="memdesc:gae717b1000872fd901c77e60a74e72e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the absolute expiry time of a running timer expressed in internal time units.  <a href="#gae717b1000872fd901c77e60a74e72e0a">More...</a><br /></td></tr>
<tr class="separator:gae717b1000872fd901c77e60a74e72e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed9b6ad8c982914c2b804700241b7e0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gaed9b6ad8c982914c2b804700241b7e0b">HAL_VTIMER_Init</a> (<a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga23c9080d3865a514041fe1f71d9cc673">HAL_VTIMER_InitType</a> *HAL_TIMER_InitStruct)</td></tr>
<tr class="memdesc:gaed9b6ad8c982914c2b804700241b7e0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the timer module. It must be placed in the initialization section of the application.  <a href="#gaed9b6ad8c982914c2b804700241b7e0b">More...</a><br /></td></tr>
<tr class="separator:gaed9b6ad8c982914c2b804700241b7e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e0fa8ea7b066acf8f2299d2cb73ae19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga3e0fa8ea7b066acf8f2299d2cb73ae19">HAL_VTIMER_Tick</a> (void)</td></tr>
<tr class="memdesc:ga3e0fa8ea7b066acf8f2299d2cb73ae19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer module state machine. Check and schedule the calibration. Check expired timers and execute user callback. It must be placed inside the infinite loop.  <a href="#ga3e0fa8ea7b066acf8f2299d2cb73ae19">More...</a><br /></td></tr>
<tr class="separator:ga3e0fa8ea7b066acf8f2299d2cb73ae19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga236b610f92796d381fa23b6f21d08913"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga236b610f92796d381fa23b6f21d08913">HAL_VTIMER_SleepCheck</a> (void)</td></tr>
<tr class="memdesc:ga236b610f92796d381fa23b6f21d08913"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the consensus of the Virtual timer management to go in sleep.  <a href="#ga236b610f92796d381fa23b6f21d08913">More...</a><br /></td></tr>
<tr class="separator:ga236b610f92796d381fa23b6f21d08913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1e1a3648d2f813f4dfcfa082e046bd6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sleep_8h.html#ace58749df14c14b64252eb55f40d2c32">SleepModes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gae1e1a3648d2f813f4dfcfa082e046bd6">HAL_VTIMER_TimerSleepCheck</a> (<a class="el" href="sleep_8h.html#ace58749df14c14b64252eb55f40d2c32">SleepModes</a> sleepMode)</td></tr>
<tr class="memdesc:gae1e1a3648d2f813f4dfcfa082e046bd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the admitted sleep mode according to the next timer activity.  <a href="#gae1e1a3648d2f813f4dfcfa082e046bd6">More...</a><br /></td></tr>
<tr class="separator:gae1e1a3648d2f813f4dfcfa082e046bd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga340e1a2a0814d3cd0e4c424128a77b73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga340e1a2a0814d3cd0e4c424128a77b73">HAL_VTIMER_TimeoutCallback</a> (void)</td></tr>
<tr class="memdesc:ga340e1a2a0814d3cd0e4c424128a77b73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual timer Timeout Callback. It must be called in the Blue handler if the host wake up timer bit in the radio controller interrupt/status register is active.  <a href="#ga340e1a2a0814d3cd0e4c424128a77b73">More...</a><br /></td></tr>
<tr class="separator:ga340e1a2a0814d3cd0e4c424128a77b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57a0ed22841524238fa069e90858a3d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga57a0ed22841524238fa069e90858a3d5">HAL_VTIMER_RadioTimerIsr</a> (void)</td></tr>
<tr class="memdesc:ga57a0ed22841524238fa069e90858a3d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Radio activity finished. Not used yet.  <a href="#ga57a0ed22841524238fa069e90858a3d5">More...</a><br /></td></tr>
<tr class="separator:ga57a0ed22841524238fa069e90858a3d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cad075d6ec15937f981dc558823047e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga9cad075d6ec15937f981dc558823047e">HAL_VTIMER_GetPendingTimers</a> (void)</td></tr>
<tr class="memdesc:ga9cad075d6ec15937f981dc558823047e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of timers in the queue.  <a href="#ga9cad075d6ec15937f981dc558823047e">More...</a><br /></td></tr>
<tr class="separator:ga9cad075d6ec15937f981dc558823047e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb09adc35bd80510ff420b0cdcc16aea"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gadb09adc35bd80510ff420b0cdcc16aea">HAL_VTimer_SetRadioTimerValue</a> (uint32_t time, uint8_t event_type, uint8_t cal_req)</td></tr>
<tr class="memdesc:gadb09adc35bd80510ff420b0cdcc16aea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules a radio activity for the given absolute timeout value expressed in STU If the calibration of the low speed oscillator is needed, if it is possible, the radio timer will be programmed with the latest calibration data.  <a href="#gadb09adc35bd80510ff420b0cdcc16aea">More...</a><br /></td></tr>
<tr class="separator:gadb09adc35bd80510ff420b0cdcc16aea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2266d78ab1fdc199cc33271cf57a7328"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga2266d78ab1fdc199cc33271cf57a7328">HAL_VTimer_StopRadioTimer2</a> (void)</td></tr>
<tr class="memdesc:ga2266d78ab1fdc199cc33271cf57a7328"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable Timer2.  <a href="#ga2266d78ab1fdc199cc33271cf57a7328">More...</a><br /></td></tr>
<tr class="separator:ga2266d78ab1fdc199cc33271cf57a7328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1d8b105f2bfda39e1ef1b2804ba9882"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga0217df3674519b78410e66545b09d6ee">RadioStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gaf1d8b105f2bfda39e1ef1b2804ba9882">HAL_VTimer_GetRadioTimerValue</a> (uint32_t *time)</td></tr>
<tr class="memdesc:gaf1d8b105f2bfda39e1ef1b2804ba9882"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the status of the radio timer. The timeout of the last radio timer activity taken into account by the Timer Module is saved in the variable passed as parameter.  <a href="#gaf1d8b105f2bfda39e1ef1b2804ba9882">More...</a><br /></td></tr>
<tr class="separator:gaf1d8b105f2bfda39e1ef1b2804ba9882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga294de6476d1b923b32c6281640609826"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#ga294de6476d1b923b32c6281640609826">HAL_VTimer_ClearRadioTimerValue</a> (void)</td></tr>
<tr class="memdesc:ga294de6476d1b923b32c6281640609826"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the last radio activity scheduled disabling the radio timer too. Furthermore, it returns if the timeout is too close with respect the current time and the radio activity might not be cleared in time.  <a href="#ga294de6476d1b923b32c6281640609826">More...</a><br /></td></tr>
<tr class="separator:ga294de6476d1b923b32c6281640609826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8a3825461350990147c342fb0eab229"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_t_i_m_e_r___exported___functions.html#gad8a3825461350990147c342fb0eab229">HAL_VTIMER_GetAnchorPoint</a> (void)</td></tr>
<tr class="memdesc:gad8a3825461350990147c342fb0eab229"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last anchorPoint in system time unit.  <a href="#gad8a3825461350990147c342fb0eab229">More...</a><br /></td></tr>
<tr class="separator:gad8a3825461350990147c342fb0eab229"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga294de6476d1b923b32c6281640609826"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_VTimer_ClearRadioTimerValue </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the last radio activity scheduled disabling the radio timer too. Furthermore, it returns if the timeout is too close with respect the current time and the radio activity might not be cleared in time. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the radio activity has been cleared successfully. </td></tr>
    <tr><td class="paramname">2</td><td>if it might not be possible to clear the last radio activity. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00366">366</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad8a3825461350990147c342fb0eab229"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t HAL_VTIMER_GetAnchorPoint </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the last anchorPoint in system time unit. </p>
<dl class="section return"><dt>Returns</dt><dd>TimerCapture register is system time unit.</dd>
<dd>
TimerCapture register in system time unit. </dd></dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00521">521</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga9cad075d6ec15937f981dc558823047e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t HAL_VTIMER_GetPendingTimers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of timers in the queue. </p>
<dl class="section return"><dt>Returns</dt><dd>number of timers in the queue. </dd></dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00566">566</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf1d8b105f2bfda39e1ef1b2804ba9882"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga0217df3674519b78410e66545b09d6ee">RadioStatus</a> HAL_VTimer_GetRadioTimerValue </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the status of the radio timer. The timeout of the last radio timer activity taken into account by the Timer Module is saved in the variable passed as parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>Pointer of the variable where the time of the last radio activity scheduled is stored The time is expressed in STU. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if no radio timer is pending. </td></tr>
    <tr><td class="paramname">1</td><td>if a radio timer is pending and it is not already expired. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00350">350</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaed9b6ad8c982914c2b804700241b7e0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTIMER_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga23c9080d3865a514041fe1f71d9cc673">HAL_VTIMER_InitType</a> *&#160;</td>
          <td class="paramname"><em>HAL_TIMER_InitStruct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the timer module. It must be placed in the initialization section of the application. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00582">582</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga57a0ed22841524238fa069e90858a3d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTIMER_RadioTimerIsr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Radio activity finished. Not used yet. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00419">419</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gadb09adc35bd80510ff420b0cdcc16aea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_VTimer_SetRadioTimerValue </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>event_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cal_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules a radio activity for the given absolute timeout value expressed in STU If the calibration of the low speed oscillator is needed, if it is possible, the radio timer will be programmed with the latest calibration data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>Absolute time expressed in STU. </td></tr>
    <tr><td class="paramname">event_type</td><td>Specify if it is a TX (1) or RX (0) event. </td></tr>
    <tr><td class="paramname">cal_req</td><td>Specify if PLL calibration is requested (1) or not (0). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if radio activity has been scheduled succesfully. </td></tr>
    <tr><td class="paramname">1</td><td>if radio activity has been rejected (it is too close or in the past). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00466">466</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga236b610f92796d381fa23b6f21d08913"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_VTIMER_SleepCheck </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the consensus of the Virtual timer management to go in sleep. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>if all vtimers have been served and the calibration procedure has already finished. </td></tr>
    <tr><td class="paramname">FALSE</td><td>if the vtimer Tick is still busy. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00747">747</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga587f3c1112d65c7fea9f0d94af5735ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTimer_Stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *&#160;</td>
          <td class="paramname"><em>timerHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the one-shot virtual timer specified if found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerHandle</td><td>The virtual timer </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00490">490</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2266d78ab1fdc199cc33271cf57a7328"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTimer_StopRadioTimer2 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable Timer2. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00397">397</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3e0fa8ea7b066acf8f2299d2cb73ae19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTIMER_Tick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer module state machine. Check and schedule the calibration. Check expired timers and execute user callback. It must be placed inside the infinite loop. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00617">617</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga340e1a2a0814d3cd0e4c424128a77b73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_VTIMER_TimeoutCallback </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Virtual timer Timeout Callback. It must be called in the Blue handler if the host wake up timer bit in the radio controller interrupt/status register is active. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00408">408</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae1e1a3648d2f813f4dfcfa082e046bd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sleep_8h.html#ace58749df14c14b64252eb55f40d2c32">SleepModes</a> HAL_VTIMER_TimerSleepCheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sleep_8h.html#ace58749df14c14b64252eb55f40d2c32">SleepModes</a>&#160;</td>
          <td class="paramname"><em>sleepMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the admitted sleep mode according to the next timer activity. </p>
<dl class="section return"><dt>Returns</dt><dd>Sleep mode </dd></dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00680">680</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf9f41587a748ade10ee700ac65996701"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t HAL_VTimerAcc_sysT32_ms </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sysTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>msTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the sum of an absolute time and a signed relative time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sysTime</td><td>Absolute time expressed in internal time units. </td></tr>
    <tr><td class="paramname">msTime</td><td>Signed relative time expressed in ms. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>abs(msTime) &lt;= 5242879 </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>32bit resulting absolute time expressed in internal time units. </dd></dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00533">533</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gafd324aaa270ffdfc73718161a97d7bb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t HAL_VTimerDiff_ms_sysT32 </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sysTime1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sysTime2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the difference between two absolute times: sysTime1-sysTime2. The resulting value is expressed in ms. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sysTime2</td><td>Absolute time expressed in internal time units. </td></tr>
    <tr><td class="paramname">sysTime1</td><td>Absolute time expressed in internal time units. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>resulting signed relative time expressed in ms. </dd></dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00546">546</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae717b1000872fd901c77e60a74e72e0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_VTimerExpiry_sysT32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *&#160;</td>
          <td class="paramname"><em>timerHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>sysTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the absolute expiry time of a running timer expressed in internal time units. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerHandle</td><td>The virtual timer </td></tr>
    <tr><td class="paramname">sysTime</td><td>Absolute time expressed in internal time units. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00556">556</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad6bc6fc6411987df78053675f51f4a14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t HAL_VTimerGetCurrentTime_sysT32 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function return the current reference time expressed in system time units. The returned value can be used as absolute time parameter where needed in the other HAL_VTimer* APIs. </p>
<dl class="section return"><dt>Returns</dt><dd>absolute current time expressed in system time units. </dd></dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00512">512</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga94ae05e6e7406c14a693c319169a86e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_VTimerStart_ms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *&#160;</td>
          <td class="paramname"><em>timerHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>msRelTimeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a one-shot virtual timer for the given relative timeout value expressed in ms. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerHandle</td><td>The virtual timer </td></tr>
    <tr><td class="paramname">msRelTimeout</td><td>The relative time, from current time, expressed in ms </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the timerHandle is valid. </td></tr>
    <tr><td class="paramname">1</td><td>if the timerHandle already started.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerHandle</td><td>The virtual timer </td></tr>
    <tr><td class="paramname">msRelTimeout</td><td>The relative time, from current time, expressed in ms </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the timerHandle is valid. </td></tr>
    <tr><td class="paramname">1</td><td>if the timerHandle is not valid. It is already started. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00447">447</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6d553aaf09e4c134b63d6218b26ff832"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_VTimerStart_sysT32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___v_t_i_m_e_r___exported___types.html#ga24fbc47210eb8b0010f855360f8aae97">VTIMER_HandleType</a> *&#160;</td>
          <td class="paramname"><em>timerHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a one-shot virtual timer for the given absolute timeout value expressed in internal time units. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerHandle</td><td>The virtual timer </td></tr>
    <tr><td class="paramname">time</td><td>Absolute time expressed in STU. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the timerHandle is valid. </td></tr>
    <tr><td class="paramname">1</td><td>if the timerHandle is not valid. It already started.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerHandle</td><td>The virtual timer </td></tr>
    <tr><td class="paramname">time</td><td>Absolute time expressed in STU. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the timerHandle is valid. </td></tr>
    <tr><td class="paramname">1</td><td>if the timerHandle is not valid. It is already started. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vtimer_8c_source.html#l00432">432</a> of file <a class="el" href="vtimer_8c_source.html">vtimer.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2020 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
