<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STEVAL-BCN002V1 DK: C:/Users/michael galizzi1/Desktop/Customers/Nike/STEVAL-BCN002V1 DK 1.1.0/Project/BLE_Examples/BLE_HID_Peripheral/src/BLE_HID_Peripheral_main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STEVAL-BCN002V1 DK
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_b_l_e___h_i_d___peripheral__main_8c.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BLE_HID_Peripheral_main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This application contains an example which shows how implementing a device that uses the standard HID/HOGP Bluetooth Low Energy application profile. The device implemented to demo are keyboard and mouse.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This application contains an example which shows how implementing a device that uses the standard HID/HOGP Bluetooth Low Energy application profile. The device implemented to demo are keyboard and mouse. </p>
<h1><a class="anchor" id="ATOLLIC_project"></a>
ATOLLIC project</h1>
<p>To use the project with ATOLLIC TrueSTUDIO for ARM, please follow the instructions below:</p><ol type="1">
<li>Open the ATOLLIC TrueSTUDIO for ARM and select File-&gt;Import... Project menu.</li>
<li>Select Existing Projects into Workspace.</li>
<li>Select the ATOLLIC project</li>
<li>Select desired configuration to build from Project-&gt;Manage Configurations</li>
<li>Select Project-&gt;Rebuild Project. This will recompile and link the entire application</li>
</ol>
<h1><a class="anchor" id="KEIL_project"></a>
KEIL project</h1>
<p>To use the project with KEIL uVision 5 for ARM, please follow the instructions below:</p><ol type="1">
<li>Open the KEIL uVision 5 for ARM and select Project-&gt;Open Project menu.</li>
<li>Open the KEIL project <code> ...\Project\BLE_Examples\BLE_HID_Peripheral\MDK-ARM\BlueNRG-2\HID_Peripheral.uvprojx </code></li>
<li>Select desired configuration to build</li>
<li>Select Project-&gt;Rebuild all target files. This will recompile and link the entire application</li>
<li>To download the binary image, please connect STLink to JTAG connector in your board (if available).</li>
<li>Select Project-&gt;Download to download the related binary image.</li>
<li>Alternatively, open the BlueNRG1 Flasher utility and download the built binary image.</li>
</ol>
<h1><a class="anchor" id="IAR_project"></a>
IAR project</h1>
<p>To use the project with IAR Embedded Workbench for ARM, please follow the instructions below:</p><ol type="1">
<li>Open the Embedded Workbench for ARM and select File-&gt;Open-&gt;Workspace menu.</li>
<li>Open the IAR project <code> ...\Project\BLE_Examples\BLE_HID_Peripheral\EWARM\BlueNRG-2\HID_Peripheral.eww </code></li>
<li>Select desired configuration to build</li>
<li>Select Project-&gt;Rebuild All. This will recompile and link the entire application</li>
<li>To download the binary image, please connect STLink to JTAG connector in your board (if available).</li>
<li>Select Project-&gt;Download and Debug to download the related binary image.</li>
<li>Alternatively, open the BlueNRG1 Flasher utility and download the built binary image.</li>
</ol>
<h2><a class="anchor" id="Project_configurations"></a>
Project configurations</h2>
<ul>
<li><code>HID_Keyboard</code> - HID Keyboard device implementation</li>
<li><code>HID_Mouse</code> - HID Mouse device implementation</li>
</ul>
<h1><a class="anchor" id="Board_supported"></a>
Boards supported</h1>
<ul>
<li><code>STEVAL-BCN002V1</code> </li>
</ul>
<h1><a class="anchor" id="Serial_IO"></a>
Serial I/O</h1>
<h2>| Parameter name | Value | Unit | </h2>
<p>| Baudrate | 115200 [default] | bit/sec | | Data bits | 8 | bit | | Parity | None | bit | | Stop bits | 1 | bit | </p>
<h1><a class="anchor" id="Buttons_description"></a>
Buttons description</h1>
<h2>| | HID_Keyboard ||||| HID_Mouse ||||| </h2>
<h2>| BUTTON name | STEVAL-IDB007V1 | STEVAL-IDB007V2 | STEVAL-IDB008V1 | STEVAL-IDB008V2 | STEVAL-IDB009V1 | STEVAL-IDB007V1 | STEVAL-IDB007V2 | STEVAL-IDB008V1 | STEVAL-IDB008V2 | STEVAL-IDB009V1 | </h2>
<p>| SW1 | Not Used | Not Used | Not Used | Not Used | Not Used | Left mouse button and exit from deep sleep | Left mouse button and exit from deep sleep | Left mouse button and exit from deep sleep | Left mouse button and exit from deep sleep | Left mouse button and exit from deep sleep | | RESET | Reset BlueNRG1 | Reset BlueNRG1 | Reset BlueNRG2 | Reset BlueNRG2 | Reset BlueNRG1 | Reset BlueNRG1 | Reset BlueNRG1 | Reset BlueNRG2 | Reset BlueNRG2 | Reset BlueNRG2 |</p>
<h1><a class="anchor" id="Usage"></a>
Usage</h1>
<p>This application shows how to use the BlueNRG-1,2 HID/HOGP BLE application profile released. Two HID devices implemented are:</p>
<ul>
<li><b>HID Mouse</b>: This demo FW implements a basic HID mouse with two buttons compliant with the standard HID/HOGP BLE application profile. At the first reset, the BlueNRG-1,2 starts an autocalibration of the gyroscope for a few sec. During the autocalibration the evaluation board shall be put on a table. During the autocalibraiton the LED DL1 will blink, at the end of the autocalibration procedure the LED DL1 will be OFF and the evaluation board is ready to use. The HID device is visible from the central devices with the name "STMouse". The mouse movement are provided by the 3D accelerometer and 3D gyroscope on the BlueNRG-1,2 evaluation board. The left button is the "PUSH1" button on the evaluation board. The right button is the "PUSH2" button on the evaluation board. If the mouse is not used for 2 minutes, it closes the connection and enters in deep sleep. This idle connection timeout can be changed from the application. To exit from deep sleep press the "PUSH1" button (left button) or reset the board.</li>
<li><b> HID Keyboard</b>: This demo FW implements a basic HID qwerty keyboard compliant with the standard HID/HOGP BLE application profile. The HID device is visible from the central devices with the name "STKeyboard". To finish the bonding and pairing procedure with success insert the PIN: 123456 To use the HID keyboard you need to connect the BlueNRG-1,2 evaluation board to a USB port of a PC, open an Hyperterminal using the configuration shows in the Serial I/O table and start to use the PC keyboard. Puts the cursor focus on the Hyperterminal window. On the Hyperterminal will be shown the keys that will be send to the central device using the HID/HOGP BLE application profile. If the keyboard is not used for 2 minutes, it closes the connection and enters in deep sleep. This idle connection timeout can be changed from the application. To exit from deep sleep press any key on the keyboard or reset the board. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ef400272f54c760ae5fdb1f952859f6f.html">STEVAL-BCN002V1 DK 1.1.0</a></li><li class="navelem"><a class="el" href="dir_69e0761ab2017eddef87489741c355bd.html">Project</a></li><li class="navelem"><a class="el" href="dir_ab105a37112905d2d2d4989fd5261ee6.html">BLE_Examples</a></li><li class="navelem"><a class="el" href="dir_a7f6c5d68685d4c3439cb43656cafd4a.html">BLE_HID_Peripheral</a></li><li class="navelem"><a class="el" href="dir_5ab100d1fc267e81e561fea96fdd0a15.html">src</a></li><li class="navelem"><a class="el" href="_b_l_e___h_i_d___peripheral__main_8c.html">BLE_HID_Peripheral_main.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
