<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STEVAL-BCN002V1 DK: C:/Users/michael galizzi1/Desktop/Customers/Nike/STEVAL-BCN002V1 DK 1.1.0/Project/BLE_Examples/BLE_Throughput/src/BLE_Throughput_main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STEVAL-BCN002V1 DK
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_b_l_e___throughput__main_8c.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BLE_Throughput_main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is a Throughput demo that shows how to implement a simple throughput test between two BlueNRG,2 devices. Two throughput test options are available: unidirectional (server notification to client side); bidirectional (server notification to client side and write without response from client to server side).  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is a Throughput demo that shows how to implement a simple throughput test between two BlueNRG,2 devices. Two throughput test options are available: unidirectional (server notification to client side); bidirectional (server notification to client side and write without response from client to server side). </p>
<h1><a class="anchor" id="ATOLLIC_project"></a>
ATOLLIC project</h1>
<p>To use the project with ATOLLIC TrueSTUDIO for ARM, please follow the instructions below:</p><ol type="1">
<li>Open the ATOLLIC TrueSTUDIO for ARM and select File-&gt;Import... Project menu.</li>
<li>Select Existing Projects into Workspace.</li>
<li>Select the ATOLLIC project</li>
<li>Select desired configuration to build from Project-&gt;Manage Configurations</li>
<li>Select Project-&gt;Rebuild Project. This will recompile and link the entire application</li>
<li>To download the binary image, please connect STLink to JTAG connector in your board (if available).</li>
<li>Select Project-&gt;Download to download the related binary image.</li>
<li>Alternatively, open the BlueNRG1 GUI, put the board in bootloader mode and download the built binary image.</li>
</ol>
<h1><a class="anchor" id="KEIL_project"></a>
KEIL project</h1>
<p>To use the project with KEIL uVision 5 for ARM, please follow the instructions below:</p><ol type="1">
<li>Open the KEIL uVision 5 for ARM and select Project-&gt;Open Project menu.</li>
<li>Open the KEIL project <code> ...\Project\BLE_Examples\BLE_Throughput\MDK-ARM\BlueNRG-2\BLE_Throughput.uvprojx </code></li>
<li>Select desired configuration to build</li>
<li>Select Project-&gt;Rebuild all target files. This will recompile and link the entire application</li>
<li>To download the binary image, please connect STLink to JTAG connector in your board (if available).</li>
<li>Select Project-&gt;Download to download the related binary image.</li>
<li>Alternatively, open the BlueNRG1 GUI, put the board in bootloader mode and download the built binary image.</li>
</ol>
<h1><a class="anchor" id="IAR_project"></a>
IAR project</h1>
<p>To use the project with IAR Embedded Workbench for ARM, please follow the instructions below:</p><ol type="1">
<li>Open the Embedded Workbench for ARM and select File-&gt;Open-&gt;Workspace menu.</li>
<li>Open the IAR project <code> ...\Project\BLE_Examples\BLE_Throughput\EWARM\BlueNRG-2\BLE_Throughput.eww </code></li>
<li>Select desired configuration to build</li>
<li>Select Project-&gt;Rebuild All. This will recompile and link the entire application</li>
<li>To download the binary image, please connect STLink to JTAG connector in your board (if available).</li>
<li>Select Project-&gt;Download and Debug to download the related binary image.</li>
<li>Alternatively, open the BlueNRG1 GUI, put the board in bootloader mode and download the built binary image.</li>
</ol>
<h2><a class="anchor" id="Project_configurations"></a>
Project configurations</h2>
<ul>
<li><code>Client_bidirectional</code> - Client role configuration for bidirectional throughput test</li>
<li><code>Client_unidirectional</code> - Client role configuration for unidirectional throughput test</li>
<li><code>Server_bidirectional</code> - Server role configuration for bidirectional throughput test</li>
<li><code>Server_unidirectional</code> - Server role configuration for unidirectional throughput test</li>
</ul>
<h1><a class="anchor" id="Board_supported"></a>
Boards supported</h1>
<ul>
<li><code>STEVAL-BCN002V1</code> </li>
</ul>
<h1><a class="anchor" id="Serial_IO"></a>
Serial I/O</h1>
<h2>| Parameter name | Value | Unit | </h2>
<p>| Baudrate | 921600 | bit/sec | | Data bits | 8 | bit | | Parity | None | bit | | Stop bits | 1 | bit | </p>
<h1><a class="anchor" id="Usage"></a>
Usage</h1>
<p>This Throughput demo has 2 roles:</p><ul>
<li>The server that expose the Throughput service. It is the slave.</li>
<li>The client that uses the Throughput service. It is the master.</li>
</ul>
<p>The Throughput Service contains 2 Characteristics:</p><ol type="1">
<li>The TX Characteristic: the client can enable notifications on this characteristic. When the server has data to be sent, it sends notifications which contains the value of the TX Characteristic</li>
<li>The RX Characteristic: it is a writable characteristic. When the client has data to be sent to the server, it writes a value into this characteristic.</li>
</ol>
<p>The maximum length of the characteristic value is 20 bytes.</p>
<p>NOTES:</p><ul>
<li>The <b>Client_unidirectional</b> and <b>Server_unidirectional </b> workspaces allow to target a unidirectional throughput test: server device sends characteristic notifications to the client device(THROUGHPUT_TEST_SERVER define enabled on on both workspaces, on the preprocessor options). The required serial port baudrate is 921600.</li>
<li>Program the client side on one BlueNRG-1 platform and reset it. The platform is seen on the PC as a virtual COM port. Open the port in a serial terminal emulator.</li>
<li>Program the server side on a second BlueNRG-1 platform and reset it. The two platforms try to establish a connection. As soon as they get connected, the slave continuously sends notification of TX characteristic (20 bytes) to the client.</li>
<li>After every 500 packets, the measured application unidirectional throughput is displayed.</li>
<li>The <b>Client_bidirectional</b> and <b>Server_bidirectional</b> workspaces allow to target a bidirectional throughput test: server device sends characteristic notifications to the client device and client device performs sends characteristic write without responses to the server device (THROUGHPUT_TEST_SERVER and THROUGHPUT_TEST_CLIENT define enabled on both workspaces, on the preprocessor options). The required serial port baudrate is 921600.</li>
<li>Program the client side on one BlueNRG-1 platform and reset it. The platform is seen on the PC as a virtual COM port. Open the port in a serial terminal emulator.</li>
<li>Program the server side on a second BlueNRG-1 platform and reset it. The two platforms try to establish a connection. As soon as they get connected, the slave continuously sends notifications of TX characteristic (20 bytes) to the client and the client continuously sends write without response of RX characteristic (20 bytes) to the server.</li>
<li>After every 500 packets, the measured application bidirectional throughput is displayed. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ef400272f54c760ae5fdb1f952859f6f.html">STEVAL-BCN002V1 DK 1.1.0</a></li><li class="navelem"><a class="el" href="dir_69e0761ab2017eddef87489741c355bd.html">Project</a></li><li class="navelem"><a class="el" href="dir_ab105a37112905d2d2d4989fd5261ee6.html">BLE_Examples</a></li><li class="navelem"><a class="el" href="dir_f606c7770034f2dd7f0f5d4251a595df.html">BLE_Throughput</a></li><li class="navelem"><a class="el" href="dir_b0e086e3acdaed669b6dcfdd4eb640b6.html">src</a></li><li class="navelem"><a class="el" href="_b_l_e___throughput__main_8c.html">BLE_Throughput_main.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
