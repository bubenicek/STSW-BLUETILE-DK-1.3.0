<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>USB-to-SERIAL firmware: Upgrade procedure</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="STcustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">USB-to-SERIAL firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Upgrade procedure </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This document contains the guidelines for updating the USB-to-SERIAL FW on BlueNRG-1, STEVAL-IDB007Vx (x = 1,1M,2), BlueNRG-2, STEVAL-IDB008Vx (x = 1,1M,2), STEVAL-IDB009Vx (x = 1) platform with the USB_to_SERIAL.hex binary file available on latest BlueNRG-1_2 DK SW package.<br />
 This procedure must be applied only one time on the selected platform, in order to align to the latest version of USB_to_SERIAL.hex binary file.</p>
<h1><a class="anchor" id="U1"></a>
Introduction</h1>
<ul>
<li>The STEVAL-IDB007Vx (x = 1,1M,2)/STEVAL-IDB008Vx (x = 1,1M,2)/STEVAL-IDB009Vx (x = 1) USB-to-SERIAL component allows to interface a BlueNRG-1/BlueNRG-2 device to a USB host device (e.g., a PC). </li>
<li>The USB-to-SERIAL component has two firmware applications: <ol>
<li>
Device Firmware Upgrade (DFU) application that allows performing USB-to-SERIAL firmware upgrade via USB port. </li>
<li>
The USB-to-SERIAL firmware that handles the communication between the BlueNRG-1 evaluation board and a PC. </li>
</ol>
</li>
</ul>
<h1><a class="anchor" id="U2"></a>
USB-to-SERIAL FW version check procedure</h1>
<ul>
<li>In order to check USB-to-Serial firmware version, user must follow these steps: <ul>
<li>
Connect the STEVAL-IDB007Vx (x = 1,1M,2)/STEVAL-IDB008Vx (x = 1,1M,2)/STEVAL-IDB009Vx (x = 1) to a PC USB port </li>
<li>
Open the BlueNRG-1,2 Flasher utility </li>
<li>
Select the Port related to the plugged platform </li>
<li>
<b> STEVAL-IDB007Vx (x = 1,2) platform</b> : from Select file button, select the DTM_UART.hex binary file available on Firmware\BLE_Examples\DTM\BlueNRG-1 folder </li>
<li>
<b> STEVAL-IDB007V1M platform</b> : from Select file button, select the DTM_UART.hex binary file available on Firmware\BLE_Examples\DTM\STEVAL-IDB007V1M folder </li>
<li>
<b> STEVAL-IDB008Vx (x = 1,2), STEVAL-IDB009Vx (x = 1) platforms</b> : from Select file button, select the DTM_UART.hex binary file available on Firmware\BLE_Examples\DTM\BlueNRG-2 folder </li>
<li>
<b> STEVAL-IDB008V1M platform</b> : from Select file button, select the DTM_UART.hex binary file available on Firmware\BLE_Examples\DTM\STEVAL-IDB008V1M folder </li>
<li>
Press on Flash for downloading the selected image </li>
<li>
Once the image download and verify process is completed, open the BlueNRG GUI PC application available on STSW-BNRGUI SW package </li>
<li>
Select the COM port associated to the plugged platform and press Open button </li>
<li>
The <b> Motherboard FW version </b> provides the USB-to-SERIAL FW version </li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="U3"></a>
How to perform USB-to-SERIAL firmware upgrade</h1>
<ul>
<li>In order to perform USB-to-Serial firmware upgrade, user must follow these steps: <ol>
<li>
Activate the DFU application manually as follow: <ul>
<li>
Press and hold the RESET button. </li>
<li>
Plug the USB cable to the board. </li>
<li>
Release the RESET button. </li>
<li>
The red led DL2 blinks to confirm the DFU application is running. </li>
</ul>
</li>
<li>
Launch the BlueNRG GUI PC application available on BlueNRG GUI SW package (STSW-BNRGUI): <ul>
<li>
From the menu Tools select Flash Motherboard FW... </li>
<li>
Press the Apply button of the window </li>
<li>
Select the firmware USB_to_SERIAL.hex available on BlueNRG-1_2 DK, Firmware/USB_to_SERIAL folder and press Open button. </li>
<li>
Wait for the end of the operations: ERASE OPERATION and UPGRADE OPERATION </li>
</ul>
</li>
</ol>
</li>
</ul>
<table  border="0">
<tr>
<th></th></tr>
<tr>
<td><div class="image">
<img src="USB-to-SERIAL_FW_upgrade_procedure.jpg" />
</div>
   </td></tr>
<tr align="center">
<td><b style="font-size: 22px; color:blue;"> Figure 1: STEVAL-IDB007V1 Development kit </b>  </td></tr>
</table>
<p><br />
</p>
<table  border="0">
<tr>
<th></th></tr>
<tr>
<td><div class="image">
<img src="USB-to-SERIAL_FW_upgrade_procedure_8.jpg" />
</div>
   </td></tr>
<tr align="center">
<td><b style="font-size: 22px; color:blue;"> Figure 2: STEVAL-IDB008V1 Development kit </b>  </td></tr>
</table>
<table  border="0">
<tr>
<th></th></tr>
<tr>
<td><div class="image">
<img src="USB-to-SERIAL_FW_upgrade_procedure_9.jpg" />
</div>
   </td></tr>
<tr align="center">
<td><b style="font-size: 22px; color:blue;"> Figure 3: STEVAL-IDB009V1 Development kit </b>  </td></tr>
</table>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2020 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
